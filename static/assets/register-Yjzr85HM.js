import{h as y,r as f,i as b,x as r,t as o,aN as h,y as u,aP as q,aM as C,q as d,a7 as R,aS as k,a8 as c,A as B,H as m,L as F,aR as N,au as U,P as I,E as g,j as L}from"./vendor-BxNawP4f.js";import{_ as T}from"./index-DyxCg8e9.js";const M={class:"register-container"},S={class:"login-link"},j=y({__name:"register",setup(A){const p=I(),n=f(!1),a=f({username:"",email:"",password:"",confirmPassword:""}),_={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,message:"用户名长度不能小于3个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],password:[{required:!0,validator:(t,e,s)=>{e===""?s(new Error("请输入密码")):(a.value.confirmPassword!==""&&e!==a.value.confirmPassword&&s(new Error("两次输入的密码不一致")),s())},trigger:"blur"},{min:6,message:"密码长度不能小于6个字符",trigger:"blur"}],confirmPassword:[{required:!0,validator:(t,e,s)=>{e===""?s(new Error("请再次输入密码")):e!==a.value.password?s(new Error("两次输入的密码不一致")):s()},trigger:"blur"}]},w=()=>{p.push("/auth/login")},v=async()=>{n.value=!0;try{await new Promise(t=>setTimeout(t,1e3)),g.success("注册成功，请登录"),p.push("/auth/login")}catch(t){console.error("Registration failed:",t),g.error("注册失败，请稍后重试")}finally{n.value=!1}};return(t,e)=>{const s=C,i=q,V=B,x=N,P=h,E=U;return L(),b("div",M,[r(E,{class:"register-card"},{header:o(()=>e[4]||(e[4]=[u("div",{class:"card-header"},[u("h2",{class:"header-title"},"创建账号"),u("p",{class:"header-subtitle"},"请填写以下信息完成注册")],-1)])),default:o(()=>[r(P,{ref:"registerFormRef",model:a.value,rules:_,"label-position":"top"},{default:o(()=>[r(i,{label:"用户名",prop:"username"},{default:o(()=>[r(s,{modelValue:a.value.username,"onUpdate:modelValue":e[0]||(e[0]=l=>a.value.username=l),placeholder:"请输入用户名","prefix-icon":d(R)},null,8,["modelValue","prefix-icon"])]),_:1}),r(i,{label:"邮箱",prop:"email"},{default:o(()=>[r(s,{modelValue:a.value.email,"onUpdate:modelValue":e[1]||(e[1]=l=>a.value.email=l),placeholder:"请输入邮箱","prefix-icon":d(k)},null,8,["modelValue","prefix-icon"])]),_:1}),r(i,{label:"密码",prop:"password"},{default:o(()=>[r(s,{modelValue:a.value.password,"onUpdate:modelValue":e[2]||(e[2]=l=>a.value.password=l),type:"password",placeholder:"请输入密码","prefix-icon":d(c),"show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),r(i,{label:"确认密码",prop:"confirmPassword"},{default:o(()=>[r(s,{modelValue:a.value.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=l=>a.value.confirmPassword=l),type:"password",placeholder:"请再次输入密码","prefix-icon":d(c),"show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),r(i,null,{default:o(()=>[r(V,{type:"primary",loading:n.value,class:"register-button",onClick:v},{default:o(()=>[m(F(n.value?"注册中...":"注册"),1)]),_:1},8,["loading"])]),_:1}),u("div",S,[e[6]||(e[6]=m(" 已有账号？ ")),r(x,{type:"primary",onClick:w},{default:o(()=>e[5]||(e[5]=[m("立即登录")])),_:1})])]),_:1},8,["model"])]),_:1})])}}}),J=T(j,[["__scopeId","data-v-4f530133"]]);export{J as default};
