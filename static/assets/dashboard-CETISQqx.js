import{h as ot,r as _,al as x,D as lt,a5 as nt,a8 as it,am as rt,a7 as dt,a6 as ut,an as ct,ao as mt,ap as pt,aq as _t,o as ft,w as q,ar as vt,i as P,y as a,x as e,p as k,N as O,t as s,A as ht,as as yt,at as gt,au as bt,av as U,j as w,H as f,aw as xt,L as d,ax as wt,ay as St,C as zt,az as Et,aA as Ct,aB as kt,aC as Tt,aD as Ot,aE as Rt,aF as Lt,aG as At,aH as Mt,aI as Dt,aJ as Ft,P as Vt,aK as It}from"./vendor-BxNawP4f.js";import{_ as Ut}from"./index-DyxCg8e9.js";const Bt={class:"dashboard-container"},Ht={class:"header-section"},Nt={class:"stat-value"},qt={class:"stat-value"},Pt={class:"stat-value"},jt={class:"stat-value"},Wt={style:{"margin-top":"5px","margin-bottom":"15px",height:"600px !important","min-height":"600px !important"}},Gt={style:{display:"flex","justify-content":"space-between",height:"100% !important","min-height":"580px !important"}},Jt={style:{width:"48%",height:"100% !important"}},$t={class:"card-header"},Kt={style:{width:"48%",height:"100% !important"}},Qt={class:"stat-content"},Xt={class:"stat-icon"},Yt={class:"stat-info"},Zt={class:"stat-value"},te={class:"stat-content"},ee={class:"stat-icon warning"},ae={class:"stat-info"},se={class:"stat-value"},oe={class:"stat-content"},le={class:"stat-icon success"},ne={class:"stat-info"},ie={class:"stat-value"},re={class:"stat-content"},de={class:"stat-icon info"},ue={class:"stat-info"},ce={class:"stat-value"},me={class:"stat-content"},pe={class:"stat-icon primary"},_e={class:"stat-info"},fe={class:"stat-value"},ve={class:"stat-content"},he={class:"stat-icon danger"},ye={class:"stat-info"},ge={class:"stat-value"},be={class:"status-item"},xe={class:"status-item"},we={class:"status-item"},Se={class:"card-header"},ze={class:"chart-controls"},Ee={class:"chart-container",style:{height:"450px !important","min-height":"450px !important"}},Ce={class:"card-header"},ke={class:"welcome-content"},Te={class:"username"},Oe={class:"card-header"},Re=ot({__name:"dashboard",setup(Le){const v=_(!1),E={Document:x(pt),Timer:x(mt),Money:x(ct),TrendCharts:x(ut),User:x(dt),Monitor:x(rt),Lock:x(it),Download:x(nt),Setting:x(lt)};Vt();const T=_("");_("week");const B=_("week"),y=_("month"),R=_(null);let u=null;const c=_(null),g=_(null);let i=null,r=null;const h=_t({totalOrders:"2,354",todayOrders:42,pendingOrders:8,completedOrders:"2,298",totalAmount:"12,580.00",completionRate:94,activeUsers:28,systemLoad:32}),j=_([{date:"2024-03-07 10:00",content:"系统已更新至v2.0.1版本，新增多项功能优化",type:"success"},{date:"2024-03-06 15:30",content:"燃油费率将于下周一进行调整，请注意查看通知",type:"warning"},{date:"2024-03-05 09:15",content:"新增快递区域查询功能，欢迎试用",type:"info"}]),W=_("2024-03-07 09:30:25"),G=_("上海市"),J=_([{order_id:"ORD-2025-0001",created_at:"2025-03-09 12:34:56",origin:"上海",destination:"北京",total_amount:"¥128.50",status:"已完成"},{order_id:"ORD-2025-0002",created_at:"2025-03-09 14:22:33",origin:"广州",destination:"深圳",total_amount:"¥56.80",status:"运输中"},{order_id:"ORD-2025-0003",created_at:"2025-03-09 16:45:12",origin:"成都",destination:"重庆",total_amount:"¥95.20",status:"待处理"},{order_id:"ORD-2025-0004",created_at:"2025-03-09 18:10:45",origin:"杭州",destination:"苏州",total_amount:"¥72.00",status:"已完成"},{order_id:"ORD-2025-0005",created_at:"2025-03-09 19:30:22",origin:"天津",destination:"青岛",total_amount:"¥135.60",status:"已取消"}]);function H(){if(!c.value)return;i&&i.dispose(),i=U(c.value);const o={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["订单数量","完成订单","待处理订单"],bottom:"5%",itemWidth:12,itemHeight:8,textStyle:{fontSize:12}},grid:{left:"3%",right:"4%",bottom:"15%",top:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!0,data:["周一","周二","周三","周四","周五","周六","周日"],axisLabel:{fontSize:12}},yAxis:{type:"value",splitLine:{lineStyle:{type:"dashed"}},axisLabel:{fontSize:12}},series:[{name:"订单数量",type:"line",smooth:!0,data:[120,132,101,134,90,230,210],itemStyle:{color:"#409EFF"}},{name:"完成订单",type:"bar",data:[80,102,91,124,70,180,170],itemStyle:{color:"#67C23A"}},{name:"待处理订单",type:"bar",data:[40,30,10,10,20,50,40],itemStyle:{color:"#E6A23C"}}]};i.setOption(o),[0,200,500,1e3].forEach(t=>{setTimeout(()=>{i==null||i.resize()},t)})}function N(){if(!g.value)return;r&&r.dispose(),r=U(g.value);const o={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"horizontal",bottom:"10%",data:["基础运费","附加费","燃油附加费","其他费用"],itemWidth:12,itemHeight:8,textStyle:{fontSize:12}},series:[{name:"费用分布",type:"pie",radius:["35%","65%"],center:["50%","40%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:8,borderColor:"#fff",borderWidth:1},label:{show:!1,position:"center",fontSize:11},emphasis:{label:{show:!0,fontSize:"16",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:65,name:"基础运费",itemStyle:{color:"#409EFF"}},{value:15,name:"附加费",itemStyle:{color:"#67C23A"}},{value:12,name:"燃油附加费",itemStyle:{color:"#E6A23C"}},{value:8,name:"其他费用",itemStyle:{color:"#F56C6C"}}]}]};r.setOption(o),[0,200,500,1e3].forEach(t=>{setTimeout(()=>{r==null||r.resize()},t)})}function M(){if(!R.value)return;u&&u.dispose(),u=U(R.value);let o=[],t=[],m=[],S=[];y.value==="week"?(o=["周一","周二","周三","周四","周五","周六","周日"],t=[120,132,101,134,90,230,210],m=[150,132,121,154,130,180,160],S=[80,92,81,114,70,130,110]):y.value==="month"?(o=Array.from({length:30},(l,b)=>`${b+1}日`),t=Array.from({length:30},()=>Math.floor(Math.random()*100)+100),m=Array.from({length:30},()=>Math.floor(Math.random()*150)+120),S=Array.from({length:30},()=>Math.floor(Math.random()*80)+70)):y.value==="quarter"?(o=["1月","2月","3月"],t=[320,332,301],m=[350,332,321],S=[280,292,281]):(o=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],t=[120,132,101,134,90,230,210,182,191,234,290,330],m=[220,182,191,234,290,330,310,123,442,321,90,149],S=[150,232,201,154,190,330,410,182,191,234,290,330]);const n={title:{text:"运费走势分析",subtext:"按"+(y.value==="week"?"周":y.value==="month"?"月":y.value==="quarter"?"季度":"年")+"统计",left:"center",top:"0%",textStyle:{fontSize:16},subtextStyle:{fontSize:12}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["标准运费","快递运费","经济运费"],top:"10%",textStyle:{fontSize:12}},grid:{left:"3%",right:"4%",bottom:"3%",top:"25%",containLabel:!0},xAxis:{type:"category",data:o,axisLabel:{fontSize:11,rotate:o.length>12?45:0}},yAxis:{type:"value",axisLabel:{formatter:"{value} 元",fontSize:11},splitLine:{lineStyle:{type:"dashed"}}},series:[{name:"标准运费",type:"line",smooth:!0,data:t,itemStyle:{color:"#409EFF"},lineStyle:{width:3},symbol:"circle",symbolSize:7},{name:"快递运费",type:"line",smooth:!0,data:m,itemStyle:{color:"#67C23A"},lineStyle:{width:3},symbol:"circle",symbolSize:7},{name:"经济运费",type:"line",smooth:!0,data:S,itemStyle:{color:"#E6A23C"},lineStyle:{width:3},symbol:"circle",symbolSize:7}]};u.setOption(n),[0,100,300,500].forEach(l=>{setTimeout(()=>{u==null||u.resize()},l)})}function $(){try{const o=localStorage.getItem("userInfo");if(!o)return!1;if(o==="[object Object]")return T.value="admin",!0;try{const t=JSON.parse(o);return T.value=t.username||"访客",!0}catch{return T.value="admin",!0}}catch{return T.value="用户",!0}}const K=o=>({已完成:"success",运输中:"primary",待处理:"warning",已取消:"danger"})[o]||"info";window.addEventListener("resize",()=>{i&&i.resize(),r&&r.resize(),u&&u.resize()});function L(){requestAnimationFrame(()=>{i&&i.resize({animation:{duration:0}}),r&&r.resize({animation:{duration:0}}),v.value&&u&&u.resize({animation:{duration:0}})})}function D(){console.log("手动刷新图表"),c.value&&(c.value.style.height="520px",c.value.style.minHeight="520px"),g.value&&(g.value.style.height="520px",g.value.style.minHeight="520px"),c.value&&H(),g.value&&N(),L(),[100,300,600,1e3].forEach(o=>{setTimeout(()=>{c.value&&(c.value.style.height="520px"),g.value&&(g.value.style.height="520px"),L()},o)})}return ft(()=>{H(),N(),v.value&&M(),$();const o=new MutationObserver(()=>{L()});return c.value&&c.value.parentElement&&o.observe(c.value.parentElement,{attributes:!0,childList:!0}),[100,300,500,1e3].forEach(m=>{setTimeout(()=>{L()},m)}),console.log("仪表盘加载完成"),()=>{o.disconnect()}}),q(v,o=>{setTimeout(o?()=>{M()}:()=>{i&&i.resize(),r&&r.resize()},100)}),q(y,()=>{v.value&&R.value&&setTimeout(()=>{M()},100)}),setTimeout(D,500),setTimeout(D,1e3),vt(()=>{i&&(i.dispose(),i=null),r&&(r.dispose(),r=null),u&&(u.dispose(),u=null),window.removeEventListener("resize",()=>{})}),(o,t)=>{const m=ht,S=yt,n=bt,l=xt,b=gt,F=St,Q=wt,C=zt,V=Et,A=kt,X=Ct,Y=It,Z=Tt,I=At,tt=Lt,z=Dt,et=Ft,at=Mt;return w(),P("div",Bt,[t[31]||(t[31]=a("h1",null,"仪表盘",-1)),a("div",Ht,[a("div",null,[e(m,{type:"primary",size:"small",onClick:D,icon:"Refresh"},{default:s(()=>t[3]||(t[3]=[f(" 刷新图表 ")])),_:1})]),e(S,{modelValue:v.value,"onUpdate:modelValue":t[0]||(t[0]=p=>v.value=p),"active-text":"高级模式","inactive-text":"基础模式",class:"mode-switch"},null,8,["modelValue"])]),e(b,{gutter:10},{default:s(()=>[e(l,{span:6},{default:s(()=>[e(n,{class:"stat-card",style:{"max-height":"60px",height:"60px !important"}},{default:s(()=>[a("div",Nt,d(h.totalOrders),1),t[4]||(t[4]=a("div",{class:"stat-label"},"总订单数",-1))]),_:1})]),_:1}),e(l,{span:6},{default:s(()=>[e(n,{class:"stat-card",style:{"max-height":"60px",height:"60px !important"}},{default:s(()=>[a("div",qt,d(h.todayOrders),1),t[5]||(t[5]=a("div",{class:"stat-label"},"今日订单",-1))]),_:1})]),_:1}),e(l,{span:6},{default:s(()=>[e(n,{class:"stat-card",style:{"max-height":"60px",height:"60px !important"}},{default:s(()=>[a("div",Pt,d(h.pendingOrders),1),t[6]||(t[6]=a("div",{class:"stat-label"},"待处理",-1))]),_:1})]),_:1}),e(l,{span:6},{default:s(()=>[e(n,{class:"stat-card",style:{"max-height":"60px",height:"60px !important"}},{default:s(()=>[a("div",jt,d(h.completedOrders),1),t[7]||(t[7]=a("div",{class:"stat-label"},"已完成",-1))]),_:1})]),_:1})]),_:1}),a("div",Wt,[a("div",Gt,[a("div",Jt,[e(n,{class:"chart-card",style:{height:"100% !important","min-height":"580px !important",overflow:"visible !important"}},{header:s(()=>[a("div",$t,[t[8]||(t[8]=a("span",null,"订单统计",-1)),e(Q,{modelValue:B.value,"onUpdate:modelValue":t[1]||(t[1]=p=>B.value=p),placeholder:"选择时间范围",size:"small"},{default:s(()=>[e(F,{label:"今日",value:"today"}),e(F,{label:"本周",value:"week"}),e(F,{label:"本月",value:"month"})]),_:1},8,["modelValue"])])]),default:s(()=>[a("div",{ref_key:"orderChartRef",ref:c,style:{height:"520px !important",width:"100%",position:"relative"}},null,512)]),_:1})]),a("div",Kt,[e(n,{class:"chart-card",style:{height:"100% !important","min-height":"580px !important",overflow:"visible !important"}},{header:s(()=>t[9]||(t[9]=[a("div",{class:"card-header"},[a("span",null,"费率分布")],-1)])),default:s(()=>[a("div",{ref_key:"rateChartRef",ref:g,style:{height:"520px !important",width:"100%",position:"relative"}},null,512)]),_:1})])])]),v.value?(w(),k(b,{key:0,gutter:20,class:"mb-4"},{default:s(()=>[e(l,{span:8},{default:s(()=>[e(n,{shadow:"hover",class:"stat-card"},{default:s(()=>[a("div",Qt,[a("div",Xt,[e(C,{component:E.Document},null,8,["component"])]),a("div",Yt,[a("div",Zt,d(h.todayOrders),1),t[10]||(t[10]=a("div",{class:"stat-label"},"今日订单",-1))])])]),_:1})]),_:1}),e(l,{span:8},{default:s(()=>[e(n,{shadow:"hover",class:"stat-card"},{default:s(()=>[a("div",te,[a("div",ee,[e(C,{component:E.Timer},null,8,["component"])]),a("div",ae,[a("div",se,d(h.pendingOrders),1),t[11]||(t[11]=a("div",{class:"stat-label"},"待处理订单",-1))])])]),_:1})]),_:1}),e(l,{span:8},{default:s(()=>[e(n,{shadow:"hover",class:"stat-card"},{default:s(()=>[a("div",oe,[a("div",le,[e(C,{component:E.Money},null,8,["component"])]),a("div",ne,[a("div",ie,"$"+d(h.totalAmount),1),t[12]||(t[12]=a("div",{class:"stat-label"},"总计费用",-1))])])]),_:1})]),_:1})]),_:1})):O("",!0),v.value?(w(),k(b,{key:1,gutter:20,class:"mb-4"},{default:s(()=>[e(l,{span:8},{default:s(()=>[e(n,{shadow:"hover",class:"stat-card"},{default:s(()=>[a("div",re,[a("div",de,[e(C,{component:E.TrendCharts},null,8,["component"])]),a("div",ue,[a("div",ce,d(h.completionRate)+"%",1),t[13]||(t[13]=a("div",{class:"stat-label"},"完成率",-1))])])]),_:1})]),_:1}),e(l,{span:8},{default:s(()=>[e(n,{shadow:"hover",class:"stat-card"},{default:s(()=>[a("div",me,[a("div",pe,[e(C,{component:E.User},null,8,["component"])]),a("div",_e,[a("div",fe,d(h.activeUsers),1),t[14]||(t[14]=a("div",{class:"stat-label"},"在线用户",-1))])])]),_:1})]),_:1}),e(l,{span:8},{default:s(()=>[e(n,{shadow:"hover",class:"stat-card"},{default:s(()=>[a("div",ve,[a("div",he,[e(C,{component:E.Monitor},null,8,["component"])]),a("div",ye,[a("div",ge,d(h.systemLoad)+"%",1),t[15]||(t[15]=a("div",{class:"stat-label"},"系统负载",-1))])])]),_:1})]),_:1})]),_:1})):O("",!0),v.value?(w(),k(b,{key:2,gutter:20,class:"mb-4"},{default:s(()=>[e(l,{span:24},{default:s(()=>[e(n,{class:"mb-4"},{header:s(()=>t[16]||(t[16]=[a("div",{class:"card-header"},[a("span",null,"系统状态")],-1)])),default:s(()=>[e(b,{gutter:20},{default:s(()=>[e(l,{span:8},{default:s(()=>[a("div",be,[t[17]||(t[17]=a("div",{class:"status-label"},"CPU使用率",-1)),e(V,{percentage:32,"stroke-width":10})])]),_:1}),e(l,{span:8},{default:s(()=>[a("div",xe,[t[18]||(t[18]=a("div",{class:"status-label"},"内存使用率",-1)),e(V,{percentage:45,"stroke-width":10,status:"warning"})])]),_:1}),e(l,{span:8},{default:s(()=>[a("div",we,[t[19]||(t[19]=a("div",{class:"status-label"},"磁盘使用率",-1)),e(V,{percentage:68,"stroke-width":10,status:"success"})])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):O("",!0),v.value?(w(),k(b,{key:3,gutter:20,class:"mb-4"},{default:s(()=>[e(l,{span:24},{default:s(()=>[e(n,{class:"chart-card freight-chart-card"},{header:s(()=>[a("div",Se,[t[24]||(t[24]=a("span",null,"运费计算趋势",-1)),a("div",ze,[e(X,{modelValue:y.value,"onUpdate:modelValue":t[2]||(t[2]=p=>y.value=p),size:"small"},{default:s(()=>[e(A,{value:"week"},{default:s(()=>t[20]||(t[20]=[f("周")])),_:1}),e(A,{value:"month"},{default:s(()=>t[21]||(t[21]=[f("月")])),_:1}),e(A,{value:"quarter"},{default:s(()=>t[22]||(t[22]=[f("季度")])),_:1}),e(A,{value:"year"},{default:s(()=>t[23]||(t[23]=[f("年")])),_:1})]),_:1},8,["modelValue"])])])]),default:s(()=>[a("div",Ee,[a("div",{ref_key:"freightTrendChart",ref:R,style:{width:"100%",height:"450px !important","min-height":"450px !important"}},null,512)])]),_:1})]),_:1})]),_:1})):O("",!0),v.value?(w(),k(b,{key:4,gutter:20,class:"mb-4"},{default:s(()=>[e(l,{span:12},{default:s(()=>[e(n,{class:"announcement-card"},{header:s(()=>[a("div",Ce,[t[26]||(t[26]=a("span",null,"系统公告",-1)),e(m,{link:""},{default:s(()=>t[25]||(t[25]=[f("查看所有")])),_:1})])]),default:s(()=>[e(Z,null,{default:s(()=>[(w(!0),P(Ot,null,Rt(j.value,(p,st)=>(w(),k(Y,{key:st,type:p.type,timestamp:p.date},{default:s(()=>[f(d(p.content),1)]),_:2},1032,["type","timestamp"]))),128))]),_:1})]),_:1})]),_:1}),e(l,{span:12},{default:s(()=>[e(n,{class:"welcome-card"},{header:s(()=>t[27]||(t[27]=[a("div",{class:"card-header"},[a("span",null,"欢迎回来")],-1)])),default:s(()=>[a("div",ke,[e(tt,{column:1,border:""},{default:s(()=>[e(I,{label:"用户名"},{default:s(()=>[a("span",Te,d(T.value||"admin"),1)]),_:1}),e(I,{label:"上次登录时间"},{default:s(()=>[f(d(W.value),1)]),_:1}),e(I,{label:"登录位置"},{default:s(()=>[f(d(G.value),1)]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})):O("",!0),e(n,{class:"recent-orders"},{header:s(()=>[a("div",Oe,[t[29]||(t[29]=a("span",null,"最近订单",-1)),e(m,{link:""},{default:s(()=>t[28]||(t[28]=[f("查看更多")])),_:1})])]),default:s(()=>[e(at,{data:J.value,style:{width:"100%"}},{default:s(()=>[e(z,{prop:"order_id",label:"订单编号",width:"180"}),e(z,{prop:"created_at",label:"创建时间",width:"180"}),e(z,{prop:"origin",label:"发货地"}),e(z,{prop:"destination",label:"目的地"}),e(z,{prop:"total_amount",label:"总费用"}),e(z,{prop:"status",label:"状态"},{default:s(p=>[e(et,{type:K(p.row.status)},{default:s(()=>[f(d(p.row.status),1)]),_:2},1032,["type"])]),_:1}),e(z,{label:"操作",width:"120"},{default:s(()=>[e(m,{link:"",size:"small"},{default:s(()=>t[30]||(t[30]=[f("查看")])),_:1})]),_:1})]),_:1},8,["data"])]),_:1})])}}}),De=Ut(Re,[["__scopeId","data-v-99e821c1"]]);export{De as default};
