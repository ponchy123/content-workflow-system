import{h as ne,r as y,i as p,N as s,x as w,k as i,aH as oe,b7 as c,t as h,p as u,aI as re,bq as C,br as b,aD as de,aE as se,bs as ie,j as r,b8 as he,H as k,L as S}from"./vendor-BxNawP4f.js";const ue={class:"data-table"},pe={key:0,class:"data-table__toolbar"},ce={key:1,class:"data-table__pagination"},fe=ne({__name:"DataTable",props:{data:{default:()=>[]},columns:{default:()=>[]},height:{},maxHeight:{},stripe:{type:Boolean,default:!0},border:{type:Boolean,default:!0},size:{default:"default"},fit:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},highlightCurrentRow:{type:Boolean,default:!1},rowClassName:{},rowStyle:{},cellClassName:{},cellStyle:{},headerRowClassName:{},headerRowStyle:{},headerCellClassName:{},headerCellStyle:{},rowKey:{},emptyText:{},defaultExpandAll:{type:Boolean},expandRowKeys:{},defaultSort:{},treeProps:{},summaryMethod:{},sumText:{},indent:{},lazy:{type:Boolean},load:{},selectOnIndeterminate:{type:Boolean,default:!0},selection:{type:Boolean,default:!1},selectionWidth:{default:55},selectionFixed:{type:[Boolean,String]},selectable:{},reserveSelection:{type:Boolean},index:{type:Boolean,default:!1},indexWidth:{default:55},indexFixed:{type:[Boolean,String]},indexMethod:{},expand:{type:Boolean,default:!1},expandWidth:{default:50},expandFixed:{type:[Boolean,String]},align:{default:"left"},headerAlign:{default:"left"},actionLabel:{default:"操作"},actionWidth:{default:150},actionFixed:{type:[Boolean,String]},actionAlign:{default:"center"},pagination:{type:Boolean,default:!1},total:{},pageSize:{default:10},pageSizes:{default:()=>[10,20,50,100]},paginationLayout:{default:"total, sizes, prev, pager, next, jumper"},paginationBackground:{type:Boolean,default:!0},paginationSmall:{type:Boolean,default:!1},hideOnSinglePage:{type:Boolean,default:!1},tableProps:{default:()=>({})}},emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-click","cell-dblclick","row-click","row-dblclick","row-contextmenu","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change","size-change","current-page-change"],setup(B,{emit:z}){const v=B,n=z,g=y(1),f=y(v.pageSize),P=e=>{const{prop:a,label:l,type:o,width:m,minWidth:t,fixed:d,sortable:q,sortMethod:G,sortBy:J,formatter:Q,showOverflowTooltip:X,className:Y,labelClassName:Z,filters:_,filterPlacement:ee,filterMultiple:ae,filterMethod:le,filteredValue:te}=e;return{prop:a,label:l,type:o,width:m,minWidth:t,fixed:d,sortable:q,sortMethod:G,sortBy:J,formatter:Q,showOverflowTooltip:X,className:Y,labelClassName:Z,filters:_,filterPlacement:ee,filterMultiple:ae,filterMethod:le,filteredValue:te}},R=(e,a)=>{n("select",e,a)},N=e=>{n("select-all",e)},H=e=>{n("selection-change",e)},x=(e,a,l,o)=>{n("cell-mouse-enter",e,a,l,o)},E=(e,a,l,o)=>{n("cell-mouse-leave",e,a,l,o)},F=(e,a,l,o)=>{n("cell-click",e,a,l,o)},M=(e,a,l,o)=>{n("cell-dblclick",e,a,l,o)},A=(e,a,l)=>{n("row-click",e,a,l)},D=(e,a,l)=>{n("row-dblclick",e,a,l)},T=(e,a,l)=>{n("row-contextmenu",e,a,l)},W=(e,a)=>{n("header-click",e,a)},$=(e,a)=>{n("header-contextmenu",e,a)},L=({column:e,prop:a,order:l})=>{n("sort-change",{column:e,prop:a,order:l})},O=e=>{n("filter-change",e)},K=(e,a)=>{n("current-change",e,a)},V=(e,a,l,o)=>{n("header-dragend",e,a,l,o)},I=(e,a)=>{n("expand-change",e,a)},j=e=>{f.value=e,n("size-change",e)},U=e=>{g.value=e,n("current-page-change",e)};return(e,a)=>{const l=re,o=oe,m=ie;return r(),p("div",ue,[e.$slots.toolbar?(r(),p("div",pe,[i(e.$slots,"toolbar")])):s("",!0),w(o,c(e.tableProps,{data:e.data,height:e.height,"max-height":e.maxHeight,stripe:e.stripe,border:e.border,size:e.size,fit:e.fit,"show-header":e.showHeader,"highlight-current-row":e.highlightCurrentRow,"row-class-name":e.rowClassName,"row-style":e.rowStyle,"cell-class-name":e.cellClassName,"cell-style":e.cellStyle,"header-row-class-name":e.headerRowClassName,"header-row-style":e.headerRowStyle,"header-cell-class-name":e.headerCellClassName,"header-cell-style":e.headerCellStyle,"row-key":e.rowKey,"empty-text":e.emptyText,"default-expand-all":e.defaultExpandAll,"expand-row-keys":e.expandRowKeys,"default-sort":e.defaultSort,"tree-props":e.treeProps,"summary-method":e.summaryMethod,"sum-text":e.sumText,indent:e.indent,lazy:e.lazy,load:e.load,"select-on-indeterminate":e.selectOnIndeterminate,onSelect:R,onSelectAll:N,onSelectionChange:H,onCellMouseEnter:x,onCellMouseLeave:E,onCellClick:F,onCellDblclick:M,onRowClick:A,onRowDblclick:D,onRowContextmenu:T,onHeaderClick:W,onHeaderContextmenu:$,onSortChange:L,onFilterChange:O,onCurrentChange:K,onHeaderDragend:V,onExpandChange:I}),{default:h(()=>[e.selection?(r(),u(l,{key:0,type:"selection",width:e.selectionWidth,fixed:e.selectionFixed,selectable:e.selectable,"reserve-selection":e.reserveSelection},null,8,["width","fixed","selectable","reserve-selection"])):s("",!0),e.index?(r(),u(l,{key:1,type:"index",width:e.indexWidth,fixed:e.indexFixed,index:e.indexMethod},null,8,["width","fixed","index"])):s("",!0),e.expand?(r(),u(l,{key:2,type:"expand",width:e.expandWidth,fixed:e.expandFixed},{default:h(t=>[i(e.$slots,"expand",C(b(t)))]),_:3},8,["width","fixed"])):s("",!0),(r(!0),p(de,null,se(e.columns,t=>(r(),u(l,c({key:t.prop||t.type,ref_for:!0},P(t),{align:t.align||e.align,"header-align":t.headerAlign||e.headerAlign}),he({default:h(d=>[i(e.$slots,`column-${t.prop}`,c({ref_for:!0},d),()=>[k(S(t.prop&&d.row[t.prop]),1)])]),_:2},[t.header?{name:"header",fn:h(d=>[i(e.$slots,`column-header-${t.prop}`,c({ref_for:!0},d),()=>[k(S(d.column.label),1)])]),key:"0"}:void 0]),1040,["align","header-align"]))),128)),e.$slots.action?(r(),u(l,{key:3,label:e.actionLabel,width:e.actionWidth,fixed:e.actionFixed,align:e.actionAlign},{default:h(t=>[i(e.$slots,"action",C(b(t)))]),_:3},8,["label","width","fixed","align"])):s("",!0)]),_:3},16,["data","height","max-height","stripe","border","size","fit","show-header","highlight-current-row","row-class-name","row-style","cell-class-name","cell-style","header-row-class-name","header-row-style","header-cell-class-name","header-cell-style","row-key","empty-text","default-expand-all","expand-row-keys","default-sort","tree-props","summary-method","sum-text","indent","lazy","load","select-on-indeterminate"]),e.pagination?(r(),p("div",ce,[w(m,{"current-page":g.value,"onUpdate:currentPage":a[0]||(a[0]=t=>g.value=t),"page-size":f.value,"onUpdate:pageSize":a[1]||(a[1]=t=>f.value=t),total:e.total,"page-sizes":e.pageSizes,layout:e.paginationLayout,background:e.paginationBackground,small:e.paginationSmall,"hide-on-single-page":e.hideOnSinglePage,onSizeChange:j,onCurrentChange:U},null,8,["current-page","page-size","total","page-sizes","layout","background","small","hide-on-single-page"])])):s("",!0)])}}});export{fe as _};
