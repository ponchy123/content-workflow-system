import{a$ as S,h as Y,o as L,Q as M,i as m,x as o,bc as N,t as e,H as n,bt as R,bi as V,q as s,p as y,aG as j,L as c,aJ as q,aF as G,y as f,A as I,bo as P,au as A,bu as F,P as J,j as i}from"./vendor-BxNawP4f.js";import{u as Q}from"./history-Clwt9phY.js";import{u as $}from"./index-C4Uq_sZu.js";import{_ as z}from"./index-DyxCg8e9.js";const K=(u,_="YYYY-MM-DD HH:mm:ss")=>u?S(u).format(_):"-",O={class:"history-detail-container"},U={class:"detail-content"},W={class:"card-header"},X=Y({__name:"history-detail",setup(u){const _=M(),p=J(),t=Q(),D=$(),b=r=>({single:"primary",batch:"success",comparison:"warning"})[r]||"info",g=r=>({single:"单次计算",batch:"批量计算",comparison:"产品比较"})[r]||r,h=()=>{p.back()},E=async()=>{t.currentDetail&&(await D.calculate(t.currentDetail.request),p.push("/calculator"))},k=()=>{t.currentDetail&&t.exportDetail(t.currentDetail.id)};return L(async()=>{const r=_.params.id;await t.fetchHistoryDetail(r)}),(r,a)=>{const x=R,d=I,B=P,l=j,v=q,C=G,H=A,T=F,w=V;return i(),m("div",O,[o(x,{onBack:h},{content:e(()=>a[0]||(a[0]=[n("历史记录详情")])),_:1}),N((i(),m("div",U,[s(t).currentDetail?(i(),y(H,{key:0,class:"detail-card"},{header:e(()=>[f("div",W,[a[3]||(a[3]=f("h3",null,"基本信息",-1)),o(B,null,{default:e(()=>[o(d,{type:"primary",onClick:E},{default:e(()=>a[1]||(a[1]=[n(" 重新计算 ")])),_:1}),o(d,{type:"primary",onClick:k},{default:e(()=>a[2]||(a[2]=[n(" 导出详情 ")])),_:1})]),_:1})])]),default:e(()=>[o(C,{column:2,border:""},{default:e(()=>[o(l,{label:"计算时间"},{default:e(()=>[n(c(s(K)(s(t).currentDetail.created_at)),1)]),_:1}),o(l,{label:"计算类型"},{default:e(()=>[o(v,{type:b(s(t).currentDetail.type)},{default:e(()=>[n(c(g(s(t).currentDetail.type)),1)]),_:1},8,["type"])]),_:1}),o(l,{label:"操作用户"},{default:e(()=>[n(c(s(t).currentDetail.user.username),1)]),_:1}),o(l,{label:"用户邮箱"},{default:e(()=>[n(c(s(t).currentDetail.user.email),1)]),_:1})]),_:1})]),_:1})):(i(),y(T,{key:1,description:"未找到记录"}))])),[[w,s(t).loading]])])}}}),ot=z(X,[["__scopeId","data-v-364e980e"]]);export{ot as default};
