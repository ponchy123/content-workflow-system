ERROR 2025-02-28 17:05:17,503 log 7292 32560 Internal Server Error: /api/v1/fuel-rates/rates/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 73, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.DataError: (1406, "Data too long for column 'rate_id' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
  File "D:\workspace\workbook\freight\apps\fuel_rates\views.py", line 50, in perform_create
    instance = serializer.save()
               ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 989, in create
    instance = ModelClass._default_manager.create(**validated_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\query.py", line 453, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\workspace\workbook\freight\apps\fuel_rates\models.py", line 65, in save
    super().save(*args, **kwargs)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\base.py", line 739, in save
    self.save_base(using=using, force_insert=force_insert,
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\base.py", line 776, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\base.py", line 881, in _save_table
    results = self._do_insert(cls._base_manager, using, fields, returning_fields, raw)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\base.py", line 919, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\query.py", line 1270, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1416, in execute_sql
    cursor.execute(sql, params)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 66, in execute
    return self._execute_with_wrappers(sql, params, many=False, executor=self._execute)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 75, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\utils.py", line 90, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 73, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.DataError: (1406, "Data too long for column 'rate_id' at row 1")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 179, in import_from_string
    return import_string(val)
           ^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 17, in import_string
    module = import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\importlib\__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1324, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'apps.core.exceptions'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 463, in handle_exception
    exception_handler = self.get_exception_handler()
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 298, in get_exception_handler
    return self.settings.EXCEPTION_HANDLER
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 227, in __getattr__
    val = perform_import(val, attr)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 168, in perform_import
    return import_from_string(val, setting_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 182, in import_from_string
    raise ImportError(msg)
ImportError: Could not import 'apps.core.exceptions.custom_exception_handler' for API setting 'EXCEPTION_HANDLER'. ModuleNotFoundError: No module named 'apps.core.exceptions'.
ERROR 2025-02-28 17:51:17,306 log 10976 14712 Internal Server Error: / D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 20, in import_string
    return getattr(module, class_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'redis.connection' has no attribute 'HiredisParser'. Did you mean: '_HiredisParser'?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 116, in __call__
    response = self.process_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\cache.py", line 145, in process_request
    cache_key = get_cache_key(request, self.key_prefix, 'GET', cache=self.cache)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\cache.py", line 362, in get_cache_key
    headerlist = cache.get(cache_key)
                 ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 92, in get
    value = self._get(key, default, version, client)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 29, in _decorator
    return method(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 99, in _get
    return self.client.get(key, default=default, version=version, client=client)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 253, in get
    client = self.get_client(write=False)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 105, in get_client
    self._clients[index] = self.connect(index)
                           ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 118, in connect
    return self.connection_factory.connect(self._server[index])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 70, in connect
    params = self.make_connection_params(url)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 42, in make_connection_params
    "parser_class": self.get_parser_cls(),
                    ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 99, in get_parser_cls
    return import_string(cls)
           ^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 22, in import_string
    raise ImportError('Module "%s" does not define a "%s" attribute/class' % (
ImportError: Module "redis.connection" does not define a "HiredisParser" attribute/class
ERROR 2025-02-28 17:51:17,400 log 10976 14712 Internal Server Error: /favicon.ico D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 20, in import_string
    return getattr(module, class_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'redis.connection' has no attribute 'HiredisParser'. Did you mean: '_HiredisParser'?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 116, in __call__
    response = self.process_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\cache.py", line 145, in process_request
    cache_key = get_cache_key(request, self.key_prefix, 'GET', cache=self.cache)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\cache.py", line 362, in get_cache_key
    headerlist = cache.get(cache_key)
                 ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 92, in get
    value = self._get(key, default, version, client)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 29, in _decorator
    return method(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 99, in _get
    return self.client.get(key, default=default, version=version, client=client)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 253, in get
    client = self.get_client(write=False)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 105, in get_client
    self._clients[index] = self.connect(index)
                           ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 118, in connect
    return self.connection_factory.connect(self._server[index])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 70, in connect
    params = self.make_connection_params(url)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 42, in make_connection_params
    "parser_class": self.get_parser_cls(),
                    ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 99, in get_parser_cls
    return import_string(cls)
           ^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 22, in import_string
    raise ImportError('Module "%s" does not define a "%s" attribute/class' % (
ImportError: Module "redis.connection" does not define a "HiredisParser" attribute/class
ERROR 2025-02-28 17:51:33,829 log 2456 4320 Internal Server Error: / D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 20, in import_string
    return getattr(module, class_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'redis.connection' has no attribute 'HiredisParser'. Did you mean: '_HiredisParser'?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 116, in __call__
    response = self.process_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\cache.py", line 145, in process_request
    cache_key = get_cache_key(request, self.key_prefix, 'GET', cache=self.cache)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\cache.py", line 362, in get_cache_key
    headerlist = cache.get(cache_key)
                 ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 92, in get
    value = self._get(key, default, version, client)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 29, in _decorator
    return method(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 99, in _get
    return self.client.get(key, default=default, version=version, client=client)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 253, in get
    client = self.get_client(write=False)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 105, in get_client
    self._clients[index] = self.connect(index)
                           ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 118, in connect
    return self.connection_factory.connect(self._server[index])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 70, in connect
    params = self.make_connection_params(url)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 42, in make_connection_params
    "parser_class": self.get_parser_cls(),
                    ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 99, in get_parser_cls
    return import_string(cls)
           ^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 22, in import_string
    raise ImportError('Module "%s" does not define a "%s" attribute/class' % (
ImportError: Module "redis.connection" does not define a "HiredisParser" attribute/class
ERROR 2025-02-28 17:51:33,919 log 2456 4320 Internal Server Error: /favicon.ico D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 20, in import_string
    return getattr(module, class_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'redis.connection' has no attribute 'HiredisParser'. Did you mean: '_HiredisParser'?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 116, in __call__
    response = self.process_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\cache.py", line 145, in process_request
    cache_key = get_cache_key(request, self.key_prefix, 'GET', cache=self.cache)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\cache.py", line 362, in get_cache_key
    headerlist = cache.get(cache_key)
                 ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 92, in get
    value = self._get(key, default, version, client)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 29, in _decorator
    return method(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 99, in _get
    return self.client.get(key, default=default, version=version, client=client)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 253, in get
    client = self.get_client(write=False)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 105, in get_client
    self._clients[index] = self.connect(index)
                           ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 118, in connect
    return self.connection_factory.connect(self._server[index])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 70, in connect
    params = self.make_connection_params(url)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 42, in make_connection_params
    "parser_class": self.get_parser_cls(),
                    ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 99, in get_parser_cls
    return import_string(cls)
           ^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 22, in import_string
    raise ImportError('Module "%s" does not define a "%s" attribute/class' % (
ImportError: Module "redis.connection" does not define a "HiredisParser" attribute/class
ERROR 2025-02-28 18:01:54,967 log 12776 21576 Internal Server Error: /api/v1/users/users/login/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 415, in initial
    self.check_permissions(request)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 333, in check_permissions
    self.permission_denied(
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 174, in permission_denied
    raise exceptions.NotAuthenticated()
rest_framework.exceptions.NotAuthenticated: 身份认证信息未提供。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 179, in import_from_string
    return import_string(val)
           ^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 17, in import_string
    module = import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\importlib\__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1324, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'apps.core.exceptions'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 463, in handle_exception
    exception_handler = self.get_exception_handler()
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 298, in get_exception_handler
    return self.settings.EXCEPTION_HANDLER
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 227, in __getattr__
    val = perform_import(val, attr)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 168, in perform_import
    return import_from_string(val, setting_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 182, in import_from_string
    raise ImportError(msg)
ImportError: Could not import 'apps.core.exceptions.custom_exception_handler' for API setting 'EXCEPTION_HANDLER'. ModuleNotFoundError: No module named 'apps.core.exceptions'.
ERROR 2025-02-28 18:02:17,219 log 12776 14144 Internal Server Error: /api/v1/users/users/login/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 415, in initial
    self.check_permissions(request)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 333, in check_permissions
    self.permission_denied(
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 174, in permission_denied
    raise exceptions.NotAuthenticated()
rest_framework.exceptions.NotAuthenticated: 身份认证信息未提供。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 179, in import_from_string
    return import_string(val)
           ^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 17, in import_string
    module = import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\importlib\__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1324, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'apps.core.exceptions'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 463, in handle_exception
    exception_handler = self.get_exception_handler()
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 298, in get_exception_handler
    return self.settings.EXCEPTION_HANDLER
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 227, in __getattr__
    val = perform_import(val, attr)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 168, in perform_import
    return import_from_string(val, setting_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 182, in import_from_string
    raise ImportError(msg)
ImportError: Could not import 'apps.core.exceptions.custom_exception_handler' for API setting 'EXCEPTION_HANDLER'. ModuleNotFoundError: No module named 'apps.core.exceptions'.
ERROR 2025-02-28 18:02:26,567 log 12776 23364 Internal Server Error: /api/v1/users/users/login/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 415, in initial
    self.check_permissions(request)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 333, in check_permissions
    self.permission_denied(
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 174, in permission_denied
    raise exceptions.NotAuthenticated()
rest_framework.exceptions.NotAuthenticated: 身份认证信息未提供。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 179, in import_from_string
    return import_string(val)
           ^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 17, in import_string
    module = import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\importlib\__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1324, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'apps.core.exceptions'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 463, in handle_exception
    exception_handler = self.get_exception_handler()
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 298, in get_exception_handler
    return self.settings.EXCEPTION_HANDLER
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 227, in __getattr__
    val = perform_import(val, attr)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 168, in perform_import
    return import_from_string(val, setting_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 182, in import_from_string
    raise ImportError(msg)
ImportError: Could not import 'apps.core.exceptions.custom_exception_handler' for API setting 'EXCEPTION_HANDLER'. ModuleNotFoundError: No module named 'apps.core.exceptions'.
ERROR 2025-02-28 18:03:08,880 log 21396 6936 Internal Server Error: /api/v1/users/users/login/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 415, in initial
    self.check_permissions(request)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 333, in check_permissions
    self.permission_denied(
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 174, in permission_denied
    raise exceptions.NotAuthenticated()
rest_framework.exceptions.NotAuthenticated: 身份认证信息未提供。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 179, in import_from_string
    return import_string(val)
           ^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 17, in import_string
    module = import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\importlib\__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1324, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'apps.core.exceptions'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 463, in handle_exception
    exception_handler = self.get_exception_handler()
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 298, in get_exception_handler
    return self.settings.EXCEPTION_HANDLER
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 227, in __getattr__
    val = perform_import(val, attr)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 168, in perform_import
    return import_from_string(val, setting_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 182, in import_from_string
    raise ImportError(msg)
ImportError: Could not import 'apps.core.exceptions.custom_exception_handler' for API setting 'EXCEPTION_HANDLER'. ModuleNotFoundError: No module named 'apps.core.exceptions'.
ERROR 2025-02-28 18:04:28,993 log 6384 2844 Internal Server Error: /api/v1/users/users/login/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 415, in initial
    self.check_permissions(request)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 333, in check_permissions
    self.permission_denied(
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 174, in permission_denied
    raise exceptions.NotAuthenticated()
rest_framework.exceptions.NotAuthenticated: 身份认证信息未提供。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 179, in import_from_string
    return import_string(val)
           ^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 17, in import_string
    module = import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\importlib\__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1324, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'apps.core.exceptions'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 463, in handle_exception
    exception_handler = self.get_exception_handler()
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 298, in get_exception_handler
    return self.settings.EXCEPTION_HANDLER
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 227, in __getattr__
    val = perform_import(val, attr)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 168, in perform_import
    return import_from_string(val, setting_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 182, in import_from_string
    raise ImportError(msg)
ImportError: Could not import 'apps.core.exceptions.custom_exception_handler' for API setting 'EXCEPTION_HANDLER'. ModuleNotFoundError: No module named 'apps.core.exceptions'.
ERROR 2025-02-28 18:04:51,388 log 6384 21152 Internal Server Error: /api/v1/users/users/login/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 415, in initial
    self.check_permissions(request)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 333, in check_permissions
    self.permission_denied(
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 174, in permission_denied
    raise exceptions.NotAuthenticated()
rest_framework.exceptions.NotAuthenticated: 身份认证信息未提供。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 179, in import_from_string
    return import_string(val)
           ^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 17, in import_string
    module = import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\importlib\__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1324, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'apps.core.exceptions'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 463, in handle_exception
    exception_handler = self.get_exception_handler()
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 298, in get_exception_handler
    return self.settings.EXCEPTION_HANDLER
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 227, in __getattr__
    val = perform_import(val, attr)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 168, in perform_import
    return import_from_string(val, setting_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 182, in import_from_string
    raise ImportError(msg)
ImportError: Could not import 'apps.core.exceptions.custom_exception_handler' for API setting 'EXCEPTION_HANDLER'. ModuleNotFoundError: No module named 'apps.core.exceptions'.
ERROR 2025-02-28 18:07:02,431 log 8564 8852 Internal Server Error: /api/v1/users/users/login/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 415, in initial
    self.check_permissions(request)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 333, in check_permissions
    self.permission_denied(
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 174, in permission_denied
    raise exceptions.NotAuthenticated()
rest_framework.exceptions.NotAuthenticated: 身份认证信息未提供。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 179, in import_from_string
    return import_string(val)
           ^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 17, in import_string
    module = import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\importlib\__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1324, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'apps.core.exceptions'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 463, in handle_exception
    exception_handler = self.get_exception_handler()
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 298, in get_exception_handler
    return self.settings.EXCEPTION_HANDLER
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 227, in __getattr__
    val = perform_import(val, attr)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 168, in perform_import
    return import_from_string(val, setting_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 182, in import_from_string
    raise ImportError(msg)
ImportError: Could not import 'apps.core.exceptions.custom_exception_handler' for API setting 'EXCEPTION_HANDLER'. ModuleNotFoundError: No module named 'apps.core.exceptions'.
ERROR 2025-02-28 19:56:36,354 log 6364 1096 Internal Server Error: /api/v1/users/users/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 414, in initial
    self.perform_authentication(request)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 324, in perform_authentication
    request.user
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\request.py", line 231, in user
    self._authenticate()
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\request.py", line 384, in _authenticate
    user_auth_tuple = authenticator.authenticate(self)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework_simplejwt\authentication.py", line 49, in authenticate
    validated_token = self.get_validated_token(raw_token)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework_simplejwt\authentication.py", line 113, in get_validated_token
    raise InvalidToken(
rest_framework_simplejwt.exceptions.InvalidToken: {'detail': ErrorDetail(string='此令牌对任何类型的令牌无效', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid'), 'messages': [{'token_class': ErrorDetail(string='AccessToken', code='token_not_valid'), 'token_type': ErrorDetail(string='access', code='token_not_valid'), 'message': ErrorDetail(string='令牌无效或已过期', code='token_not_valid')}]}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 179, in import_from_string
    return import_string(val)
           ^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 17, in import_string
    module = import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\importlib\__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1324, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'apps.core.exceptions'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 463, in handle_exception
    exception_handler = self.get_exception_handler()
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 298, in get_exception_handler
    return self.settings.EXCEPTION_HANDLER
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 227, in __getattr__
    val = perform_import(val, attr)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 168, in perform_import
    return import_from_string(val, setting_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 182, in import_from_string
    raise ImportError(msg)
ImportError: Could not import 'apps.core.exceptions.custom_exception_handler' for API setting 'EXCEPTION_HANDLER'. ModuleNotFoundError: No module named 'apps.core.exceptions'.
ERROR 2025-02-28 19:56:49,218 log 6364 12204 Internal Server Error: /api/v1/fuel-rates/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 415, in initial
    self.check_permissions(request)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 333, in check_permissions
    self.permission_denied(
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 174, in permission_denied
    raise exceptions.NotAuthenticated()
rest_framework.exceptions.NotAuthenticated: 身份认证信息未提供。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 179, in import_from_string
    return import_string(val)
           ^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 17, in import_string
    module = import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\importlib\__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1324, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'apps.core.exceptions'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 463, in handle_exception
    exception_handler = self.get_exception_handler()
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 298, in get_exception_handler
    return self.settings.EXCEPTION_HANDLER
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 227, in __getattr__
    val = perform_import(val, attr)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 168, in perform_import
    return import_from_string(val, setting_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 182, in import_from_string
    raise ImportError(msg)
ImportError: Could not import 'apps.core.exceptions.custom_exception_handler' for API setting 'EXCEPTION_HANDLER'. ModuleNotFoundError: No module named 'apps.core.exceptions'.
ERROR 2025-02-28 19:57:14,990 log 6364 12788 Internal Server Error: /api/v1/fuel-rates/rates/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 73, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.OperationalError: (1054, "Unknown column 'fuel_rates.is_deleted' in 'where clause'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\mixins.py", line 40, in list
    page = self.paginate_queryset(queryset)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\generics.py", line 175, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\pagination.py", line 212, in paginate_queryset
    self.page = paginator.page(page_number)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\paginator.py", line 76, in page
    number = self.validate_number(number)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\paginator.py", line 54, in validate_number
    if number > self.num_pages:
                ^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\functional.py", line 48, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\paginator.py", line 103, in num_pages
    if self.count == 0 and not self.allow_empty_first_page:
       ^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\functional.py", line 48, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\paginator.py", line 97, in count
    return c()
           ^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\query.py", line 412, in count
    return self.query.get_count(using=self.db)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\sql\query.py", line 528, in get_count
    number = obj.get_aggregation(using, ['__count'])['__count']
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\sql\query.py", line 513, in get_aggregation
    result = compiler.execute_sql(SINGLE)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1175, in execute_sql
    cursor.execute(sql, params)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 98, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 66, in execute
    return self._execute_with_wrappers(sql, params, many=False, executor=self._execute)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 75, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\utils.py", line 90, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 73, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.OperationalError: (1054, "Unknown column 'fuel_rates.is_deleted' in 'where clause'")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 179, in import_from_string
    return import_string(val)
           ^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 17, in import_string
    module = import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\importlib\__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1324, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'apps.core.exceptions'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 463, in handle_exception
    exception_handler = self.get_exception_handler()
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 298, in get_exception_handler
    return self.settings.EXCEPTION_HANDLER
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 227, in __getattr__
    val = perform_import(val, attr)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 168, in perform_import
    return import_from_string(val, setting_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 182, in import_from_string
    raise ImportError(msg)
ImportError: Could not import 'apps.core.exceptions.custom_exception_handler' for API setting 'EXCEPTION_HANDLER'. ModuleNotFoundError: No module named 'apps.core.exceptions'.
ERROR 2025-02-28 19:57:23,975 log 6364 6024 Internal Server Error: /api/v1/fuel-rates/rates/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\mixins.py", line 18, in create
    serializer.is_valid(raise_exception=True)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 231, in is_valid
    raise ValidationError(self.errors)
rest_framework.exceptions.ValidationError: {'provider': [ErrorDetail(string='该字段是必填项。', code='required')], 'rate': [ErrorDetail(string='该字段是必填项。', code='required')]}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 179, in import_from_string
    return import_string(val)
           ^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 17, in import_string
    module = import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\importlib\__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1324, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'apps.core.exceptions'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 463, in handle_exception
    exception_handler = self.get_exception_handler()
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 298, in get_exception_handler
    return self.settings.EXCEPTION_HANDLER
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 227, in __getattr__
    val = perform_import(val, attr)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 168, in perform_import
    return import_from_string(val, setting_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\settings.py", line 182, in import_from_string
    raise ImportError(msg)
ImportError: Could not import 'apps.core.exceptions.custom_exception_handler' for API setting 'EXCEPTION_HANDLER'. ModuleNotFoundError: No module named 'apps.core.exceptions'.
ERROR 2025-02-28 20:06:30,194 log 20508 2244 Internal Server Error: /api/v1/users/users/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 20, in import_string
    return getattr(module, class_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'redis.connection' has no attribute 'PythonParser'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 116, in __call__
    response = self.process_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\cache.py", line 145, in process_request
    cache_key = get_cache_key(request, self.key_prefix, 'GET', cache=self.cache)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\cache.py", line 362, in get_cache_key
    headerlist = cache.get(cache_key)
                 ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 92, in get
    value = self._get(key, default, version, client)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 29, in _decorator
    return method(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 99, in _get
    return self.client.get(key, default=default, version=version, client=client)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 253, in get
    client = self.get_client(write=False)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 105, in get_client
    self._clients[index] = self.connect(index)
                           ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 118, in connect
    return self.connection_factory.connect(self._server[index])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 70, in connect
    params = self.make_connection_params(url)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 42, in make_connection_params
    "parser_class": self.get_parser_cls(),
                    ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 99, in get_parser_cls
    return import_string(cls)
           ^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 22, in import_string
    raise ImportError('Module "%s" does not define a "%s" attribute/class' % (
ImportError: Module "redis.connection" does not define a "PythonParser" attribute/class
ERROR 2025-02-28 20:06:39,246 log 20508 26692 Internal Server Error: /api/v1/fuel-rates/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 20, in import_string
    return getattr(module, class_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'redis.connection' has no attribute 'PythonParser'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 116, in __call__
    response = self.process_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\cache.py", line 145, in process_request
    cache_key = get_cache_key(request, self.key_prefix, 'GET', cache=self.cache)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\cache.py", line 362, in get_cache_key
    headerlist = cache.get(cache_key)
                 ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 92, in get
    value = self._get(key, default, version, client)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 29, in _decorator
    return method(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 99, in _get
    return self.client.get(key, default=default, version=version, client=client)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 253, in get
    client = self.get_client(write=False)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 105, in get_client
    self._clients[index] = self.connect(index)
                           ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 118, in connect
    return self.connection_factory.connect(self._server[index])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 70, in connect
    params = self.make_connection_params(url)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 42, in make_connection_params
    "parser_class": self.get_parser_cls(),
                    ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 99, in get_parser_cls
    return import_string(cls)
           ^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 22, in import_string
    raise ImportError('Module "%s" does not define a "%s" attribute/class' % (
ImportError: Module "redis.connection" does not define a "PythonParser" attribute/class
ERROR 2025-02-28 20:07:10,012 log 20508 11072 Internal Server Error: /api/v1/providers/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 20, in import_string
    return getattr(module, class_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'redis.connection' has no attribute 'PythonParser'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 116, in __call__
    response = self.process_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\cache.py", line 145, in process_request
    cache_key = get_cache_key(request, self.key_prefix, 'GET', cache=self.cache)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\cache.py", line 362, in get_cache_key
    headerlist = cache.get(cache_key)
                 ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 92, in get
    value = self._get(key, default, version, client)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 29, in _decorator
    return method(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 99, in _get
    return self.client.get(key, default=default, version=version, client=client)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 253, in get
    client = self.get_client(write=False)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 105, in get_client
    self._clients[index] = self.connect(index)
                           ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 118, in connect
    return self.connection_factory.connect(self._server[index])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 70, in connect
    params = self.make_connection_params(url)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 42, in make_connection_params
    "parser_class": self.get_parser_cls(),
                    ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 99, in get_parser_cls
    return import_string(cls)
           ^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 22, in import_string
    raise ImportError('Module "%s" does not define a "%s" attribute/class' % (
ImportError: Module "redis.connection" does not define a "PythonParser" attribute/class
ERROR 2025-02-28 20:08:10,077 log 20508 12832 Internal Server Error: /api/v1/fuel-rates/rates/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\mixins.py", line 20, in create
    headers = self.get_success_headers(serializer.data)
                                       ^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 571, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 249, in data
    self._data = self.to_representation(self.instance)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 538, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\fields.py", line 1872, in to_representation
    return method(value)
           ^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\fuel_rates\serializers.py", line 24, in get_last_history
    history = obj.fuelratehistory_set.first()
              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'FuelRate' object has no attribute 'fuelratehistory_set'
ERROR 2025-02-28 20:08:37,720 log 20508 10832 Internal Server Error: /api/v1/fuel-rates/rates/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 20, in import_string
    return getattr(module, class_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'redis.connection' has no attribute 'PythonParser'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 116, in __call__
    response = self.process_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\cache.py", line 145, in process_request
    cache_key = get_cache_key(request, self.key_prefix, 'GET', cache=self.cache)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\cache.py", line 362, in get_cache_key
    headerlist = cache.get(cache_key)
                 ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 92, in get
    value = self._get(key, default, version, client)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 29, in _decorator
    return method(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 99, in _get
    return self.client.get(key, default=default, version=version, client=client)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 253, in get
    client = self.get_client(write=False)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 105, in get_client
    self._clients[index] = self.connect(index)
                           ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 118, in connect
    return self.connection_factory.connect(self._server[index])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 70, in connect
    params = self.make_connection_params(url)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 42, in make_connection_params
    "parser_class": self.get_parser_cls(),
                    ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 99, in get_parser_cls
    return import_string(cls)
           ^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 22, in import_string
    raise ImportError('Module "%s" does not define a "%s" attribute/class' % (
ImportError: Module "redis.connection" does not define a "PythonParser" attribute/class
ERROR 2025-02-28 20:08:56,694 log 20508 24432 Internal Server Error: /api/v1/fuel-rates/rates/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 20, in import_string
    return getattr(module, class_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'redis.connection' has no attribute 'PythonParser'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 116, in __call__
    response = self.process_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\cache.py", line 145, in process_request
    cache_key = get_cache_key(request, self.key_prefix, 'GET', cache=self.cache)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\cache.py", line 362, in get_cache_key
    headerlist = cache.get(cache_key)
                 ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 92, in get
    value = self._get(key, default, version, client)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 29, in _decorator
    return method(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 99, in _get
    return self.client.get(key, default=default, version=version, client=client)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 253, in get
    client = self.get_client(write=False)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 105, in get_client
    self._clients[index] = self.connect(index)
                           ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 118, in connect
    return self.connection_factory.connect(self._server[index])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 70, in connect
    params = self.make_connection_params(url)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 42, in make_connection_params
    "parser_class": self.get_parser_cls(),
                    ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 99, in get_parser_cls
    return import_string(cls)
           ^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 22, in import_string
    raise ImportError('Module "%s" does not define a "%s" attribute/class' % (
ImportError: Module "redis.connection" does not define a "PythonParser" attribute/class
ERROR 2025-02-28 20:09:09,799 log 20508 27908 Internal Server Error: /api/v1/fuel-rates/rates/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\mixins.py", line 20, in create
    headers = self.get_success_headers(serializer.data)
                                       ^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 571, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 249, in data
    self._data = self.to_representation(self.instance)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 538, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\fields.py", line 1872, in to_representation
    return method(value)
           ^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\fuel_rates\serializers.py", line 24, in get_last_history
    history = obj.fuelratehistory_set.first()
              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'FuelRate' object has no attribute 'fuelratehistory_set'
ERROR 2025-02-28 20:09:37,095 log 20508 10980 Internal Server Error: /api/v1/fuel-rates/rates/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 20, in import_string
    return getattr(module, class_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'redis.connection' has no attribute 'PythonParser'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 116, in __call__
    response = self.process_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\cache.py", line 145, in process_request
    cache_key = get_cache_key(request, self.key_prefix, 'GET', cache=self.cache)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\cache.py", line 362, in get_cache_key
    headerlist = cache.get(cache_key)
                 ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 92, in get
    value = self._get(key, default, version, client)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 29, in _decorator
    return method(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 99, in _get
    return self.client.get(key, default=default, version=version, client=client)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 253, in get
    client = self.get_client(write=False)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 105, in get_client
    self._clients[index] = self.connect(index)
                           ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 118, in connect
    return self.connection_factory.connect(self._server[index])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 70, in connect
    params = self.make_connection_params(url)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 42, in make_connection_params
    "parser_class": self.get_parser_cls(),
                    ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 99, in get_parser_cls
    return import_string(cls)
           ^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 22, in import_string
    raise ImportError('Module "%s" does not define a "%s" attribute/class' % (
ImportError: Module "redis.connection" does not define a "PythonParser" attribute/class
ERROR 2025-02-28 20:09:56,944 log 20508 23008 Internal Server Error: /api/v1/fuel-rates/rates/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\mixins.py", line 20, in create
    headers = self.get_success_headers(serializer.data)
                                       ^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 571, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 249, in data
    self._data = self.to_representation(self.instance)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 538, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\fields.py", line 1872, in to_representation
    return method(value)
           ^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\fuel_rates\serializers.py", line 24, in get_last_history
    history = obj.fuelratehistory_set.first()
              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'FuelRate' object has no attribute 'fuelratehistory_set'
ERROR 2025-02-28 20:10:10,650 log 20508 28444 Internal Server Error: /api/v1/fuel-rates/rates/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\mixins.py", line 20, in create
    headers = self.get_success_headers(serializer.data)
                                       ^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 571, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 249, in data
    self._data = self.to_representation(self.instance)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 538, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\fields.py", line 1872, in to_representation
    return method(value)
           ^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\fuel_rates\serializers.py", line 24, in get_last_history
    history = obj.fuelratehistory_set.first()
              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'FuelRate' object has no attribute 'fuelratehistory_set'
ERROR 2025-02-28 20:28:10,499 log 20508 8388 Internal Server Error: /api/v1/fuel-rates/rates/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 20, in import_string
    return getattr(module, class_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'redis.connection' has no attribute 'PythonParser'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 116, in __call__
    response = self.process_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\cache.py", line 145, in process_request
    cache_key = get_cache_key(request, self.key_prefix, 'GET', cache=self.cache)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\cache.py", line 362, in get_cache_key
    headerlist = cache.get(cache_key)
                 ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 92, in get
    value = self._get(key, default, version, client)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 29, in _decorator
    return method(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\cache.py", line 99, in _get
    return self.client.get(key, default=default, version=version, client=client)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 253, in get
    client = self.get_client(write=False)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 105, in get_client
    self._clients[index] = self.connect(index)
                           ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\client\default.py", line 118, in connect
    return self.connection_factory.connect(self._server[index])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 70, in connect
    params = self.make_connection_params(url)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 42, in make_connection_params
    "parser_class": self.get_parser_cls(),
                    ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django_redis\pool.py", line 99, in get_parser_cls
    return import_string(cls)
           ^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\module_loading.py", line 22, in import_string
    raise ImportError('Module "%s" does not define a "%s" attribute/class' % (
ImportError: Module "redis.connection" does not define a "PythonParser" attribute/class
ERROR 2025-02-28 20:34:19,467 log 24120 10324 Internal Server Error: /api/v1/fuel-rates/rates/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\mixins.py", line 20, in create
    headers = self.get_success_headers(serializer.data)
                                       ^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 571, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 249, in data
    self._data = self.to_representation(self.instance)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 538, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\fields.py", line 1872, in to_representation
    return method(value)
           ^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\fuel_rates\serializers.py", line 24, in get_last_history
    history = obj.fuelratehistory_set.first()
              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'FuelRate' object has no attribute 'fuelratehistory_set'
ERROR 2025-02-28 20:36:34,724 log 24120 17944 Internal Server Error: /api/v1/fuel-rates/rates/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\mixins.py", line 43, in list
    return self.get_paginated_response(serializer.data)
                                       ^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 795, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 249, in data
    self._data = self.to_representation(self.instance)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 714, in to_representation
    self.child.to_representation(item) for item in iterable
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 538, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\fields.py", line 1872, in to_representation
    return method(value)
           ^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\fuel_rates\serializers.py", line 24, in get_last_history
    history = obj.fuelratehistory_set.first()
              ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'FuelRate' object has no attribute 'fuelratehistory_set'
ERROR 2025-02-28 21:02:35,979 log 5644 6268 Internal Server Error: /api/v1/core/metrics/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:04:22,806 log 5644 9156 Internal Server Error: /api/v1/core/metrics/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,688 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,812 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,818 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,824 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,829 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,834 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,838 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,844 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,848 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,853 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,858 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,864 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,869 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,875 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,881 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,886 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,890 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,895 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,901 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,906 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,911 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,916 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,922 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,927 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,933 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,939 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,944 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,949 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,954 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,959 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,965 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,971 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,976 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:11:56,981 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:12:21,812 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:12:21,818 log 13180 4580 Internal Server Error: /api/v1/users/token/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:15:41,270 log 7800 27156 Internal Server Error: /api/v1/fuel-rates/rates/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:15:41,635 log 7800 27156 Internal Server Error: /api/v1/fuel-rates/rates/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:15:41,849 log 7800 27156 Internal Server Error: /api/v1/fuel-rates/rates/FR001/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:15:42,069 log 7800 27156 Internal Server Error: /api/v1/fuel-rates/rates/FR001/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:18:50,687 log 21244 21048 Internal Server Error: /api/v1/fuel-rates/rates/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:18:51,069 log 21244 21048 Internal Server Error: /api/v1/fuel-rates/rates/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:18:51,285 log 21244 21048 Internal Server Error: /api/v1/fuel-rates/rates/FR001/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:18:51,506 log 21244 21048 Internal Server Error: /api/v1/fuel-rates/rates/FR001/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:18:55,630 log 21244 21048 Internal Server Error: /api/v1/products/products/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:21:38,111 log 27612 6884 Internal Server Error: /api/v1/fuel-rates/rates/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:21:38,482 log 27612 6884 Internal Server Error: /api/v1/fuel-rates/rates/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:21:38,703 log 27612 6884 Internal Server Error: /api/v1/fuel-rates/rates/FR001/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:21:38,923 log 27612 6884 Internal Server Error: /api/v1/fuel-rates/rates/FR001/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:21:43,007 log 27612 6884 Internal Server Error: /api/v1/products/products/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:22:49,234 log 23424 7124 Internal Server Error: /api/v1/fuel-rates/rates/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:22:49,601 log 23424 7124 Internal Server Error: /api/v1/fuel-rates/rates/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:22:49,817 log 23424 7124 Internal Server Error: /api/v1/fuel-rates/rates/FR001/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:22:50,059 log 23424 7124 Internal Server Error: /api/v1/fuel-rates/rates/FR001/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:25:09,308 log 27964 23352 Internal Server Error: /api/v1/fuel-rates/rates/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:25:09,554 log 27964 23352 Internal Server Error: /api/v1/fuel-rates/rates/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:25:09,768 log 27964 23352 Internal Server Error: /api/v1/fuel-rates/rates/FR001/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:25:09,980 log 27964 23352 Internal Server Error: /api/v1/fuel-rates/rates/FR001/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:30:28,748 log 6268 10964 Internal Server Error: /api/v1/fuel-rates/rates/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:30:29,082 log 6268 10964 Internal Server Error: /api/v1/fuel-rates/rates/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:30:29,299 log 6268 10964 Internal Server Error: /api/v1/fuel-rates/rates/FR25022801/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:30:29,527 log 6268 10964 Internal Server Error: /api/v1/fuel-rates/rates/FR25022801/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-02-28 21:30:29,972 log 6268 10964 Internal Server Error: /api/v1/fuel-rates/rates/active/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 09:02:04,996 log 4124 6820 Internal Server Error: /api/v1/fuel-rates/rates/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 09:02:05,334 log 4124 6820 Internal Server Error: /api/v1/fuel-rates/rates/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 09:02:05,546 log 4124 6820 Internal Server Error: /api/v1/fuel-rates/rates/FR25030101/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 09:02:05,758 log 4124 6820 Internal Server Error: /api/v1/fuel-rates/rates/FR25030101/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 09:02:06,179 log 4124 6820 Internal Server Error: /api/v1/fuel-rates/rates/active/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 10:52:55,121 log 18044 25880 Internal Server Error: /api/v1/products/products/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 10:54:30,321 log 7508 26872 Internal Server Error: /api/v1/products/products/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 10:55:28,063 log 15240 9800 Internal Server Error: /api/v1/core/health/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1415, in get_connection
    connection = self._available_connections.pop()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
IndexError: pop from empty list

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 128, in __call__
    response = self.process_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\cache.py", line 161, in process_request
    cache_key = get_cache_key(request, self.key_prefix, "GET", cache=self.cache)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\cache.py", line 392, in get_cache_key
    headerlist = cache.get(cache_key)
                 ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\cache\backends\redis.py", line 187, in get
    return self._cache.get(key, default)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\cache\backends\redis.py", line 99, in get
    value = client.get(key)
            ^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\commands\core.py", line 1822, in get
    return self.execute_command("GET", name, keys=[name])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\client.py", line 559, in execute_command
    return self._execute_command(*args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\client.py", line 565, in _execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1417, in get_connection
    connection = self.make_connection()
                 ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1463, in make_connection
    return self.connection_class(**self.connection_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 684, in __init__
    super().__init__(**kwargs)
TypeError: AbstractConnection.__init__() got an unexpected keyword argument 'CLIENT_CLASS'
ERROR 2025-03-01 10:55:28,600 log 15240 9800 Internal Server Error: /api/v1/core/service-providers/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1415, in get_connection
    connection = self._available_connections.pop()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
IndexError: pop from empty list

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 128, in __call__
    response = self.process_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\cache.py", line 161, in process_request
    cache_key = get_cache_key(request, self.key_prefix, "GET", cache=self.cache)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\cache.py", line 392, in get_cache_key
    headerlist = cache.get(cache_key)
                 ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\cache\backends\redis.py", line 187, in get
    return self._cache.get(key, default)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\cache\backends\redis.py", line 99, in get
    value = client.get(key)
            ^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\commands\core.py", line 1822, in get
    return self.execute_command("GET", name, keys=[name])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\client.py", line 559, in execute_command
    return self._execute_command(*args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\client.py", line 565, in _execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1417, in get_connection
    connection = self.make_connection()
                 ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1463, in make_connection
    return self.connection_class(**self.connection_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 684, in __init__
    super().__init__(**kwargs)
TypeError: AbstractConnection.__init__() got an unexpected keyword argument 'CLIENT_CLASS'
ERROR 2025-03-01 10:55:29,003 log 15240 9800 Internal Server Error: /api/v1/core/system-configs/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1415, in get_connection
    connection = self._available_connections.pop()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
IndexError: pop from empty list

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 128, in __call__
    response = self.process_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\cache.py", line 161, in process_request
    cache_key = get_cache_key(request, self.key_prefix, "GET", cache=self.cache)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\cache.py", line 392, in get_cache_key
    headerlist = cache.get(cache_key)
                 ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\cache\backends\redis.py", line 187, in get
    return self._cache.get(key, default)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\cache\backends\redis.py", line 99, in get
    value = client.get(key)
            ^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\commands\core.py", line 1822, in get
    return self.execute_command("GET", name, keys=[name])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\client.py", line 559, in execute_command
    return self._execute_command(*args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\client.py", line 565, in _execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1417, in get_connection
    connection = self.make_connection()
                 ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1463, in make_connection
    return self.connection_class(**self.connection_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 684, in __init__
    super().__init__(**kwargs)
TypeError: AbstractConnection.__init__() got an unexpected keyword argument 'CLIENT_CLASS'
ERROR 2025-03-01 10:55:29,366 log 15240 9800 Internal Server Error: /api/v1/core/metrics/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1415, in get_connection
    connection = self._available_connections.pop()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
IndexError: pop from empty list

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 128, in __call__
    response = self.process_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\cache.py", line 161, in process_request
    cache_key = get_cache_key(request, self.key_prefix, "GET", cache=self.cache)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\cache.py", line 392, in get_cache_key
    headerlist = cache.get(cache_key)
                 ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\cache\backends\redis.py", line 187, in get
    return self._cache.get(key, default)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\cache\backends\redis.py", line 99, in get
    value = client.get(key)
            ^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\commands\core.py", line 1822, in get
    return self.execute_command("GET", name, keys=[name])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\client.py", line 559, in execute_command
    return self._execute_command(*args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\client.py", line 565, in _execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1417, in get_connection
    connection = self.make_connection()
                 ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1463, in make_connection
    return self.connection_class(**self.connection_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 684, in __init__
    super().__init__(**kwargs)
TypeError: AbstractConnection.__init__() got an unexpected keyword argument 'CLIENT_CLASS'
ERROR 2025-03-01 10:55:37,289 log 15240 9800 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/progress/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1415, in get_connection
    connection = self._available_connections.pop()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
IndexError: pop from empty list

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 128, in __call__
    response = self.process_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\cache.py", line 161, in process_request
    cache_key = get_cache_key(request, self.key_prefix, "GET", cache=self.cache)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\cache.py", line 392, in get_cache_key
    headerlist = cache.get(cache_key)
                 ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\cache\backends\redis.py", line 187, in get
    return self._cache.get(key, default)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\cache\backends\redis.py", line 99, in get
    value = client.get(key)
            ^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\commands\core.py", line 1822, in get
    return self.execute_command("GET", name, keys=[name])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\client.py", line 559, in execute_command
    return self._execute_command(*args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\client.py", line 565, in _execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1417, in get_connection
    connection = self.make_connection()
                 ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1463, in make_connection
    return self.connection_class(**self.connection_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 684, in __init__
    super().__init__(**kwargs)
TypeError: AbstractConnection.__init__() got an unexpected keyword argument 'CLIENT_CLASS'
ERROR 2025-03-01 10:55:37,983 log 15240 9800 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/download_result/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1415, in get_connection
    connection = self._available_connections.pop()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
IndexError: pop from empty list

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 128, in __call__
    response = self.process_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\cache.py", line 161, in process_request
    cache_key = get_cache_key(request, self.key_prefix, "GET", cache=self.cache)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\cache.py", line 392, in get_cache_key
    headerlist = cache.get(cache_key)
                 ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\cache\backends\redis.py", line 187, in get
    return self._cache.get(key, default)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\cache\backends\redis.py", line 99, in get
    value = client.get(key)
            ^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\commands\core.py", line 1822, in get
    return self.execute_command("GET", name, keys=[name])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\client.py", line 559, in execute_command
    return self._execute_command(*args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\client.py", line 565, in _execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1417, in get_connection
    connection = self.make_connection()
                 ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1463, in make_connection
    return self.connection_class(**self.connection_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 684, in __init__
    super().__init__(**kwargs)
TypeError: AbstractConnection.__init__() got an unexpected keyword argument 'CLIENT_CLASS'
ERROR 2025-03-01 10:55:38,373 log 15240 9800 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/download_errors/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1415, in get_connection
    connection = self._available_connections.pop()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
IndexError: pop from empty list

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 128, in __call__
    response = self.process_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\cache.py", line 161, in process_request
    cache_key = get_cache_key(request, self.key_prefix, "GET", cache=self.cache)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\cache.py", line 392, in get_cache_key
    headerlist = cache.get(cache_key)
                 ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\cache\backends\redis.py", line 187, in get
    return self._cache.get(key, default)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\cache\backends\redis.py", line 99, in get
    value = client.get(key)
            ^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\commands\core.py", line 1822, in get
    return self.execute_command("GET", name, keys=[name])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\client.py", line 559, in execute_command
    return self._execute_command(*args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\client.py", line 565, in _execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1417, in get_connection
    connection = self.make_connection()
                 ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1463, in make_connection
    return self.connection_class(**self.connection_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 684, in __init__
    super().__init__(**kwargs)
TypeError: AbstractConnection.__init__() got an unexpected keyword argument 'CLIENT_CLASS'
ERROR 2025-03-01 10:55:45,468 log 15240 9800 Internal Server Error: /api/v1/postcodes/countries/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1415, in get_connection
    connection = self._available_connections.pop()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
IndexError: pop from empty list

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 128, in __call__
    response = self.process_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\cache.py", line 161, in process_request
    cache_key = get_cache_key(request, self.key_prefix, "GET", cache=self.cache)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\cache.py", line 392, in get_cache_key
    headerlist = cache.get(cache_key)
                 ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\cache\backends\redis.py", line 187, in get
    return self._cache.get(key, default)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\cache\backends\redis.py", line 99, in get
    value = client.get(key)
            ^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\commands\core.py", line 1822, in get
    return self.execute_command("GET", name, keys=[name])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\client.py", line 559, in execute_command
    return self._execute_command(*args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\client.py", line 565, in _execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1417, in get_connection
    connection = self.make_connection()
                 ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1463, in make_connection
    return self.connection_class(**self.connection_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 684, in __init__
    super().__init__(**kwargs)
TypeError: AbstractConnection.__init__() got an unexpected keyword argument 'CLIENT_CLASS'
ERROR 2025-03-01 10:55:47,156 log 15240 9800 Internal Server Error: /api/v1/postcodes/provinces/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1415, in get_connection
    connection = self._available_connections.pop()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
IndexError: pop from empty list

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 128, in __call__
    response = self.process_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\cache.py", line 161, in process_request
    cache_key = get_cache_key(request, self.key_prefix, "GET", cache=self.cache)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\cache.py", line 392, in get_cache_key
    headerlist = cache.get(cache_key)
                 ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\cache\backends\redis.py", line 187, in get
    return self._cache.get(key, default)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\cache\backends\redis.py", line 99, in get
    value = client.get(key)
            ^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\commands\core.py", line 1822, in get
    return self.execute_command("GET", name, keys=[name])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\client.py", line 559, in execute_command
    return self._execute_command(*args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\client.py", line 565, in _execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1417, in get_connection
    connection = self.make_connection()
                 ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1463, in make_connection
    return self.connection_class(**self.connection_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 684, in __init__
    super().__init__(**kwargs)
TypeError: AbstractConnection.__init__() got an unexpected keyword argument 'CLIENT_CLASS'
ERROR 2025-03-01 10:55:48,319 log 15240 9800 Internal Server Error: /api/v1/postcodes/cities/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1415, in get_connection
    connection = self._available_connections.pop()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
IndexError: pop from empty list

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 128, in __call__
    response = self.process_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\cache.py", line 161, in process_request
    cache_key = get_cache_key(request, self.key_prefix, "GET", cache=self.cache)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\cache.py", line 392, in get_cache_key
    headerlist = cache.get(cache_key)
                 ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\cache\backends\redis.py", line 187, in get
    return self._cache.get(key, default)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\cache\backends\redis.py", line 99, in get
    value = client.get(key)
            ^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\commands\core.py", line 1822, in get
    return self.execute_command("GET", name, keys=[name])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\client.py", line 559, in execute_command
    return self._execute_command(*args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\client.py", line 565, in _execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1417, in get_connection
    connection = self.make_connection()
                 ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1463, in make_connection
    return self.connection_class(**self.connection_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 684, in __init__
    super().__init__(**kwargs)
TypeError: AbstractConnection.__init__() got an unexpected keyword argument 'CLIENT_CLASS'
ERROR 2025-03-01 10:55:49,477 log 15240 9800 Internal Server Error: /api/v1/postcodes/postal-codes/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1415, in get_connection
    connection = self._available_connections.pop()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
IndexError: pop from empty list

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 128, in __call__
    response = self.process_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\cache.py", line 161, in process_request
    cache_key = get_cache_key(request, self.key_prefix, "GET", cache=self.cache)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\cache.py", line 392, in get_cache_key
    headerlist = cache.get(cache_key)
                 ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\cache\backends\redis.py", line 187, in get
    return self._cache.get(key, default)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\cache\backends\redis.py", line 99, in get
    value = client.get(key)
            ^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\commands\core.py", line 1822, in get
    return self.execute_command("GET", name, keys=[name])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\client.py", line 559, in execute_command
    return self._execute_command(*args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\client.py", line 565, in _execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1417, in get_connection
    connection = self.make_connection()
                 ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1463, in make_connection
    return self.connection_class(**self.connection_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 684, in __init__
    super().__init__(**kwargs)
TypeError: AbstractConnection.__init__() got an unexpected keyword argument 'CLIENT_CLASS'
ERROR 2025-03-01 10:55:50,098 log 15240 9800 Internal Server Error: /api/v1/postcodes/postal-codes/search/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1415, in get_connection
    connection = self._available_connections.pop()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
IndexError: pop from empty list

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 128, in __call__
    response = self.process_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\cache.py", line 161, in process_request
    cache_key = get_cache_key(request, self.key_prefix, "GET", cache=self.cache)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\cache.py", line 392, in get_cache_key
    headerlist = cache.get(cache_key)
                 ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\cache\backends\redis.py", line 187, in get
    return self._cache.get(key, default)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\cache\backends\redis.py", line 99, in get
    value = client.get(key)
            ^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\commands\core.py", line 1822, in get
    return self.execute_command("GET", name, keys=[name])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\client.py", line 559, in execute_command
    return self._execute_command(*args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\client.py", line 565, in _execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1417, in get_connection
    connection = self.make_connection()
                 ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1463, in make_connection
    return self.connection_class(**self.connection_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 684, in __init__
    super().__init__(**kwargs)
TypeError: AbstractConnection.__init__() got an unexpected keyword argument 'CLIENT_CLASS'
ERROR 2025-03-01 10:55:51,245 log 15240 9800 Internal Server Error: /api/v1/postcodes/service-areas/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1415, in get_connection
    connection = self._available_connections.pop()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
IndexError: pop from empty list

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 128, in __call__
    response = self.process_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\cache.py", line 161, in process_request
    cache_key = get_cache_key(request, self.key_prefix, "GET", cache=self.cache)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\cache.py", line 392, in get_cache_key
    headerlist = cache.get(cache_key)
                 ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\cache\backends\redis.py", line 187, in get
    return self._cache.get(key, default)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\cache\backends\redis.py", line 99, in get
    value = client.get(key)
            ^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\commands\core.py", line 1822, in get
    return self.execute_command("GET", name, keys=[name])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\client.py", line 559, in execute_command
    return self._execute_command(*args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\client.py", line 565, in _execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1417, in get_connection
    connection = self.make_connection()
                 ^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 1463, in make_connection
    return self.connection_class(**self.connection_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\redis\connection.py", line 684, in __init__
    super().__init__(**kwargs)
TypeError: AbstractConnection.__init__() got an unexpected keyword argument 'CLIENT_CLASS'
ERROR 2025-03-01 10:55:52,933 log 15240 9800 Internal Server Error: /api/v1/products/products/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 10:56:49,881 log 18612 19692 Internal Server Error: /api/v1/products/products/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 10:58:17,812 log 18820 27348 Internal Server Error: /api/v1/products/products/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:16:08,917 log 13548 6096 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/progress/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:16:09,180 log 13548 6096 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:16:09,459 log 13548 6096 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/download_result/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:16:09,730 log 13548 6096 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/download_errors/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:17:15,423 log 14084 22840 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/progress/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:17:15,694 log 14084 22840 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:17:15,981 log 14084 22840 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/download_result/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:17:16,248 log 14084 22840 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/download_errors/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:19:28,491 log 25556 8136 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/progress/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:19:28,761 log 25556 8136 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:19:29,539 log 25556 8136 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/download_errors/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:24:14,030 log 22408 23088 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/download_errors/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:24:14,411 log 22408 23088 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/download_result/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:24:14,679 log 22408 23088 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:24:14,943 log 22408 23088 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/progress/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:24:36,669 log 8080 28836 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/download_errors/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:24:37,048 log 8080 28836 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/download_result/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:24:37,317 log 8080 28836 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:24:37,589 log 8080 28836 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/progress/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:24:59,764 log 4332 26388 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/download_errors/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:25:00,140 log 4332 26388 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/download_result/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:25:00,409 log 4332 26388 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:25:00,675 log 4332 26388 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/progress/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:32:24,292 log 29564 20940 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/progress/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:32:24,557 log 29564 20940 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:32:24,839 log 29564 20940 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/download_result/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:32:25,109 log 29564 20940 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/download_errors/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:56:00,376 log 6764 9580 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/progress/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:56:00,650 log 6764 9580 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:56:01,240 log 6764 9580 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/download_errors/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:57:45,206 log 2176 25844 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 11:59:19,839 log 19160 27792 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 12:02:06,229 log 8740 27696 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 12:03:59,289 log 27616 29500 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 12:04:19,127 log 27616 29500 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_c7998a9f7ac6468dbf3e874aa51b86c1/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 12:06:34,982 log 12100 8924 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 12:06:54,948 log 12100 8924 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_3f99f0acd1f14f7cabba23ebe0acbfc7/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 12:08:07,426 log 10244 2148 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 12:08:27,212 log 10244 2148 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_d89e0227ed5e4a90b2c5f8ce1d0bc2c6/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 12:10:00,453 log 6828 7432 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 12:10:07,681 log 6828 7432 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 12:10:20,693 log 6828 7432 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 12:10:21,506 log 6828 7432 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 12:10:40,571 log 6828 7432 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_8933a9714feb4a6e94b88771b3108e6e/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 12:14:19,203 log 1076 27936 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 12:14:26,457 log 1076 27936 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 12:14:28,085 log 1076 27936 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 12:14:41,025 log 1076 27936 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_d0c5849ce1f6403791569de609ed9e16/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 12:16:05,140 log 13040 23300 Internal Server Error: /api/v1/calculator/calculations/calculate_batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 12:16:13,684 log 13040 23300 Internal Server Error: /api/v1/calculator/calculations/calculate_batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 12:16:20,306 log 13040 23300 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_744f4a23b05542879b7db5cf72e4ed28/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 12:17:32,598 tasks 28324 27560 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 12:17:35,031 tasks 28324 27560 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 12:17:35,587 tasks 28324 27560 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 12:17:35,590 tasks 28324 27560 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 12:18:50,192 tasks 15356 26912 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 12:18:51,582 tasks 15356 26912 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 12:18:51,584 tasks 15356 26912 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 12:18:52,685 tasks 15356 26912 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 12:18:53,252 tasks 15356 26912 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 12:18:53,254 tasks 15356 26912 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 12:19:28,854 tasks 6780 27236 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 12:19:30,226 tasks 6780 27236 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 12:19:30,226 tasks 6780 27236 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 12:19:31,322 tasks 6780 27236 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 12:19:31,879 tasks 6780 27236 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 12:19:31,881 tasks 6780 27236 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 12:21:40,696 tasks 11492 26376 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 12:21:42,059 tasks 11492 26376 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 12:21:42,061 tasks 11492 26376 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 12:21:43,142 tasks 11492 26376 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 12:21:43,695 tasks 11492 26376 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 12:21:43,698 tasks 11492 26376 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 12:22:15,901 tasks 3648 20868 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 12:22:17,264 tasks 3648 20868 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 12:22:17,266 tasks 3648 20868 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 12:22:18,343 tasks 3648 20868 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 12:22:18,896 tasks 3648 20868 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 12:22:18,897 tasks 3648 20868 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 12:22:59,352 tasks 28164 27364 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 12:23:00,721 tasks 28164 27364 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 12:23:00,723 tasks 28164 27364 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 12:23:01,819 tasks 28164 27364 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 12:23:02,371 tasks 28164 27364 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 12:23:02,376 tasks 28164 27364 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 12:27:20,713 log 14040 2132 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 12:28:48,123 log 8748 23168 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 12:29:12,777 log 6124 14448 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 12:34:31,167 tasks 15356 2828 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 12:34:32,533 tasks 15356 2828 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 12:34:32,533 tasks 15356 2828 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 12:34:48,102 tasks 4004 19584 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 12:34:49,437 tasks 4004 19584 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 12:34:49,440 tasks 4004 19584 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 13:03:42,727 log 20912 18612 Internal Server Error: /api/v1/core/service-providers/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 128, in __call__
    response = self.process_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\locale.py", line 24, in process_request
    ) = is_language_prefix_patterns_used(urlconf)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\conf\urls\i18n.py", line 31, in is_language_prefix_patterns_used
    for url_pattern in get_resolver(urlconf).url_patterns:
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\urls\resolvers.py", line 718, in url_patterns
    patterns = getattr(self.urlconf_module, "urlpatterns", self.urlconf_module)
                       ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\urls\resolvers.py", line 711, in urlconf_module
    return import_module(self.urlconf_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\importlib\__init__.py", line 90, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 999, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "D:\workspace\workbook\freight\config\urls.py", line 13, in <module>
    from rest_framework.urlpatterns import suffix_converter
ImportError: cannot import name 'suffix_converter' from 'rest_framework.urlpatterns' (D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\urlpatterns.py)
ERROR 2025-03-01 13:03:46,987 tasks 20912 18612 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 13:03:48,364 tasks 20912 18612 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 13:03:48,366 tasks 20912 18612 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 13:04:37,122 tasks 9384 12896 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 13:04:38,491 tasks 9384 12896 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 13:04:38,493 tasks 9384 12896 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 13:10:22,187 tasks 4920 7124 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 13:11:53,467 tasks 6908 18740 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 13:15:12,417 tasks 10820 7116 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 13:16:21,304 tasks 3636 27092 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 13:17:20,654 tasks 11360 7416 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 13:17:22,017 tasks 11360 7416 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 13:17:22,020 tasks 11360 7416 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 13:20:53,237 tasks 5820 7676 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 13:20:54,579 tasks 5820 7676 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 13:20:54,581 tasks 5820 7676 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 13:23:41,769 tasks 28136 26184 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 13:23:43,120 tasks 28136 26184 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 13:23:43,122 tasks 28136 26184 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 13:24:36,720 tasks 15696 5600 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 13:24:38,109 tasks 15696 5600 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 13:24:38,111 tasks 15696 5600 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 13:28:04,665 tasks 23324 27336 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 13:28:06,026 tasks 23324 27336 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 13:28:06,026 tasks 23324 27336 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 13:29:47,434 log 17100 4852 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 248
ERROR 2025-03-01 13:29:48,009 tasks 17100 4852 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 13:29:49,424 tasks 17100 4852 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 13:29:49,427 tasks 17100 4852 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 13:33:32,611 tasks 28212 12752 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 13:33:33,993 tasks 28212 12752 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 13:33:33,996 tasks 28212 12752 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 14:34:59,967 tasks 28484 29516 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 14:35:00,478 tasks 28484 29516 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 14:35:00,483 tasks 28484 29516 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 14:54:47,516 tasks 16188 2380 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 14:54:47,975 tasks 16188 2380 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 14:54:47,977 tasks 16188 2380 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 14:56:45,929 tasks 29356 18160 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 14:56:46,396 tasks 29356 18160 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 14:56:46,398 tasks 29356 18160 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 14:57:48,850 tasks 20396 12860 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 14:57:49,307 tasks 20396 12860 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 14:57:49,309 tasks 20396 12860 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 14:58:30,033 tasks 25996 6044 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 14:58:30,497 tasks 25996 6044 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 14:58:30,499 tasks 25996 6044 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 15:01:08,119 tasks 23272 23496 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 15:01:08,593 tasks 23272 23496 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 15:01:08,595 tasks 23272 23496 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 15:03:42,548 tasks 13416 28348 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 15:03:43,006 tasks 13416 28348 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 15:03:43,008 tasks 13416 28348 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 15:09:03,959 log 2344 27912 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 15:09:03,962 log 2344 27912 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 15:09:04,469 log 2344 27912 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 15:09:04,974 log 2344 27912 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 15:09:05,150 log 2344 27912 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 15:17:15,235 log 7840 5732 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 15:18:05,347 log 16460 24228 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 15:21:52,758 log 14560 4924 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 15:21:52,764 log 14560 4924 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 15:21:53,629 log 14560 4924 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 15:29:04,104 tasks 5680 26268 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 15:29:04,105 tasks 5680 26268 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 15:29:12,942 log 5680 26268 Internal Server Error: /api/v1/products/zone-prices/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\mixins.py", line 24, in perform_create
    serializer.save()
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 989, in create
    instance = ModelClass._default_manager.create(**validated_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\query.py", line 453, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\workspace\workbook\freight\apps\products\models.py", line 279, in save
    self.full_clean()
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\base.py", line 1251, in full_clean
    raise ValidationError(errors)
django.core.exceptions.ValidationError: {'__all__': ['分区代码只能包含大写字母和数字']}
ERROR 2025-03-01 15:29:13,387 log 5680 26268 Internal Server Error: /api/v1/products/zone-prices/batch_create/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\products\views.py", line 113, in batch_create
    self.perform_create(serializer)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\mixins.py", line 24, in perform_create
    serializer.save()
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 758, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 731, in create
    self.child.create(attrs) for attrs in validated_data
    ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 989, in create
    instance = ModelClass._default_manager.create(**validated_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\query.py", line 453, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\workspace\workbook\freight\apps\products\models.py", line 279, in save
    self.full_clean()
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\base.py", line 1251, in full_clean
    raise ValidationError(errors)
django.core.exceptions.ValidationError: {'__all__': ['分区代码只能包含大写字母和数字']}
ERROR 2025-03-01 15:29:13,626 log 5680 26268 Internal Server Error: /api/v1/products/surcharges/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\mixins.py", line 18, in create
    serializer.is_valid(raise_exception=True)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 495, in to_internal_value
    for field in fields:
                 ^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 378, in _writable_fields
    for field in self.fields.values():
                 ^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\functional.py", line 48, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 372, in fields
    for key, value in self.get_fields().items():
                      ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1103, in get_fields
    field_class, field_kwargs = self.build_field(
                                ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1249, in build_field
    return self.build_unknown_field(field_name, model_class)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1367, in build_unknown_field
    raise ImproperlyConfigured(
django.core.exceptions.ImproperlyConfigured: Field name `conditions` is not valid for model `Surcharge` in `apps.products.serializers.SurchargeSerializer`.
ERROR 2025-03-01 15:29:13,856 log 5680 26268 Internal Server Error: /api/v1/products/surcharges/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\mixins.py", line 43, in list
    return self.get_paginated_response(serializer.data)
                                       ^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 795, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 249, in data
    self._data = self.to_representation(self.instance)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 714, in to_representation
    self.child.to_representation(item) for item in iterable
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 523, in to_representation
    for field in fields:
                 ^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 384, in _readable_fields
    for field in self.fields.values():
                 ^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\functional.py", line 48, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 372, in fields
    for key, value in self.get_fields().items():
                      ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1103, in get_fields
    field_class, field_kwargs = self.build_field(
                                ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1249, in build_field
    return self.build_unknown_field(field_name, model_class)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1367, in build_unknown_field
    raise ImproperlyConfigured(
django.core.exceptions.ImproperlyConfigured: Field name `conditions` is not valid for model `Surcharge` in `apps.products.serializers.SurchargeSerializer`.
ERROR 2025-03-01 15:30:35,692 tasks 22044 7720 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 15:30:36,168 tasks 22044 7720 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 15:30:36,170 tasks 22044 7720 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 15:30:45,886 log 22044 7720 Internal Server Error: /api/v1/products/surcharges/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\mixins.py", line 18, in create
    serializer.is_valid(raise_exception=True)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 495, in to_internal_value
    for field in fields:
                 ^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 378, in _writable_fields
    for field in self.fields.values():
                 ^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\functional.py", line 48, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 372, in fields
    for key, value in self.get_fields().items():
                      ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1103, in get_fields
    field_class, field_kwargs = self.build_field(
                                ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1249, in build_field
    return self.build_unknown_field(field_name, model_class)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1367, in build_unknown_field
    raise ImproperlyConfigured(
django.core.exceptions.ImproperlyConfigured: Field name `is_cumulative` is not valid for model `Surcharge` in `apps.products.serializers.SurchargeSerializer`.
ERROR 2025-03-01 15:30:46,121 log 22044 7720 Internal Server Error: /api/v1/products/surcharges/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\mixins.py", line 43, in list
    return self.get_paginated_response(serializer.data)
                                       ^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 795, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 249, in data
    self._data = self.to_representation(self.instance)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 714, in to_representation
    self.child.to_representation(item) for item in iterable
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 523, in to_representation
    for field in fields:
                 ^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 384, in _readable_fields
    for field in self.fields.values():
                 ^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\functional.py", line 48, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 372, in fields
    for key, value in self.get_fields().items():
                      ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1103, in get_fields
    field_class, field_kwargs = self.build_field(
                                ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1249, in build_field
    return self.build_unknown_field(field_name, model_class)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1367, in build_unknown_field
    raise ImproperlyConfigured(
django.core.exceptions.ImproperlyConfigured: Field name `is_cumulative` is not valid for model `Surcharge` in `apps.products.serializers.SurchargeSerializer`.
ERROR 2025-03-01 15:32:33,976 tasks 28276 16784 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 15:32:34,445 tasks 28276 16784 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 15:32:34,448 tasks 28276 16784 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 15:33:19,012 tasks 5076 28832 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 15:33:19,474 tasks 5076 28832 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 15:33:19,476 tasks 5076 28832 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 15:34:16,730 tasks 18956 1748 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 15:34:17,198 tasks 18956 1748 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 15:34:17,200 tasks 18956 1748 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 17:03:33,867 tasks 30964 12336 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 17:03:34,328 tasks 30964 12336 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 17:03:34,330 tasks 30964 12336 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 17:43:25,723 tasks 27580 31248 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 17:43:26,286 tasks 27580 31248 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 17:43:26,291 tasks 27580 31248 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 17:47:01,347 tasks 10748 31420 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 17:47:01,872 tasks 10748 31420 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 17:47:01,879 tasks 10748 31420 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 17:48:00,953 tasks 28152 9860 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 17:48:01,463 tasks 28152 9860 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 17:48:01,469 tasks 28152 9860 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 17:48:54,460 tasks 21060 1076 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 17:48:54,983 tasks 21060 1076 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 17:48:54,989 tasks 21060 1076 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 17:49:48,019 tasks 30336 2060 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 17:49:48,534 tasks 30336 2060 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 17:49:48,539 tasks 30336 2060 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 17:51:29,087 tasks 5988 11412 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 17:51:29,593 tasks 5988 11412 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 17:51:29,597 tasks 5988 11412 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 17:53:46,706 tasks 23416 21576 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 17:53:47,278 tasks 23416 21576 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 17:53:47,284 tasks 23416 21576 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 17:57:04,925 tasks 30804 30440 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 17:57:05,398 tasks 30804 30440 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 17:57:05,403 tasks 30804 30440 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 18:00:28,171 tasks 5048 20420 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 18:00:28,638 tasks 5048 20420 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 18:00:28,640 tasks 5048 20420 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 18:02:51,111 tasks 31176 23040 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 18:02:51,571 tasks 31176 23040 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 18:02:51,574 tasks 31176 23040 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 18:06:42,161 tasks 28696 4224 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 18:06:42,628 tasks 28696 4224 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 18:06:42,631 tasks 28696 4224 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 18:08:43,455 tasks 29888 8952 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 18:08:43,921 tasks 29888 8952 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 18:08:43,924 tasks 29888 8952 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 18:08:54,312 log 29888 8952 Internal Server Error: /api/v1/products/zone-prices/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\mixins.py", line 24, in perform_create
    serializer.save()
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 989, in create
    instance = ModelClass._default_manager.create(**validated_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\query.py", line 453, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\workspace\workbook\freight\apps\products\models.py", line 294, in save
    self.full_clean()
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\base.py", line 1251, in full_clean
    raise ValidationError(errors)
django.core.exceptions.ValidationError: {'zone': ['分区代码只能包含大写字母和数字']}
ERROR 2025-03-01 18:12:55,443 tasks 29088 20860 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 18:12:55,445 tasks 29088 20860 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 18:13:06,072 log 29088 20860 Internal Server Error: /api/v1/products/zone-prices/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\mixins.py", line 24, in perform_create
    serializer.save()
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 989, in create
    instance = ModelClass._default_manager.create(**validated_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\query.py", line 453, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\workspace\workbook\freight\apps\products\models.py", line 294, in save
    self.full_clean()
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\base.py", line 1251, in full_clean
    raise ValidationError(errors)
django.core.exceptions.ValidationError: {'zone': ['分区代码只能包含大写字母和数字']}
ERROR 2025-03-01 18:14:06,187 tasks 19648 30784 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 18:14:06,192 tasks 19648 30784 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 18:14:17,173 log 19648 30784 Internal Server Error: /api/v1/products/zone-prices/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\mixins.py", line 24, in perform_create
    serializer.save()
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 989, in create
    instance = ModelClass._default_manager.create(**validated_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\query.py", line 453, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\workspace\workbook\freight\apps\products\models.py", line 294, in save
    self.full_clean()
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\base.py", line 1251, in full_clean
    raise ValidationError(errors)
django.core.exceptions.ValidationError: {'zone': ['分区代码只能包含大写字母和数字']}
ERROR 2025-03-01 18:16:13,906 tasks 13052 30120 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 18:16:13,909 tasks 13052 30120 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 18:19:01,272 log 31676 25712 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 176, in calculate_single
    calculation_service = CalculationService()
                          ^^^^^^^^^^^^^^^^^^^^
TypeError: CalculationService.__init__() missing 1 required positional argument: 'product_id'
ERROR 2025-03-01 18:19:01,693 log 31676 25712 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:19:01,787 log 31676 25712 Internal Server Error: /api/v1/calculator/calculations/compare_products/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 195, in compare_products
    calculation_service = CalculationService()
                          ^^^^^^^^^^^^^^^^^^^^
TypeError: CalculationService.__init__() missing 1 required positional argument: 'product_id'
ERROR 2025-03-01 18:19:01,915 log 31676 25712 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 176, in calculate_single
    calculation_service = CalculationService()
                          ^^^^^^^^^^^^^^^^^^^^
TypeError: CalculationService.__init__() missing 1 required positional argument: 'product_id'
ERROR 2025-03-01 18:19:02,047 log 31676 25712 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:19:02,234 tasks 31676 25712 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 18:19:02,234 tasks 31676 25712 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 18:19:06,863 log 31676 25712 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 176, in calculate_single
    calculation_service = CalculationService()
                          ^^^^^^^^^^^^^^^^^^^^
TypeError: CalculationService.__init__() missing 1 required positional argument: 'product_id'
ERROR 2025-03-01 18:19:09,119 log 31676 25712 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 176, in calculate_single
    calculation_service = CalculationService()
                          ^^^^^^^^^^^^^^^^^^^^
TypeError: CalculationService.__init__() missing 1 required positional argument: 'product_id'
ERROR 2025-03-01 18:19:10,656 log 31676 25712 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 176, in calculate_single
    calculation_service = CalculationService()
                          ^^^^^^^^^^^^^^^^^^^^
TypeError: CalculationService.__init__() missing 1 required positional argument: 'product_id'
ERROR 2025-03-01 18:19:12,772 log 31676 25712 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 176, in calculate_single
    calculation_service = CalculationService()
                          ^^^^^^^^^^^^^^^^^^^^
TypeError: CalculationService.__init__() missing 1 required positional argument: 'product_id'
ERROR 2025-03-01 18:20:41,667 log 10700 29640 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:20:41,970 log 10700 29640 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:20:42,148 tasks 10700 29640 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 18:20:42,149 tasks 10700 29640 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 18:23:58,325 log 13368 26504 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:23:58,624 log 13368 26504 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:23:58,802 tasks 13368 26504 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 18:23:58,804 tasks 13368 26504 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 18:25:32,682 log 20404 10820 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:25:32,991 log 20404 10820 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:25:33,170 tasks 20404 10820 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 18:25:33,172 tasks 20404 10820 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 18:27:36,939 log 31412 30380 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:27:37,236 log 31412 30380 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:27:37,415 tasks 31412 30380 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 18:27:37,417 tasks 31412 30380 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 18:28:48,563 log 14060 6192 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:28:48,861 log 14060 6192 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:28:49,038 tasks 14060 6192 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 18:28:49,040 tasks 14060 6192 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 18:30:36,899 log 2028 3408 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:30:37,288 log 2028 3408 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:30:37,387 log 2028 3408 Internal Server Error: /api/v1/calculator/calculations/compare_products/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:30:37,592 log 2028 3408 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:30:37,779 tasks 2028 3408 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 18:30:37,781 tasks 2028 3408 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 18:32:01,376 log 31712 5680 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:32:01,771 log 31712 5680 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:32:01,870 log 31712 5680 Internal Server Error: /api/v1/calculator/calculations/compare_products/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:32:02,065 log 31712 5680 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:32:02,245 tasks 31712 5680 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 18:32:02,247 tasks 31712 5680 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 18:33:00,546 log 21340 31344 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:33:00,846 log 21340 31344 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:33:01,035 tasks 21340 31344 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 18:33:01,037 tasks 21340 31344 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 18:35:44,183 log 19696 10960 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:35:44,488 log 19696 10960 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:35:44,665 tasks 19696 10960 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 18:35:44,667 tasks 19696 10960 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 18:36:46,497 log 12992 14260 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:36:46,806 log 12992 14260 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:36:46,984 tasks 12992 14260 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 18:36:46,984 tasks 12992 14260 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 18:37:36,849 log 29884 19488 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:37:37,150 log 29884 19488 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:37:37,327 tasks 29884 19488 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 18:37:37,329 tasks 29884 19488 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 18:38:42,350 log 19920 20924 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:38:42,741 log 19920 20924 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:38:42,838 log 19920 20924 Internal Server Error: /api/v1/calculator/calculations/compare_products/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:38:43,035 log 19920 20924 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:38:43,213 tasks 19920 20924 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 18:38:43,216 tasks 19920 20924 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 18:41:46,081 log 18812 27452 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:41:46,476 log 18812 27452 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:41:46,572 log 18812 27452 Internal Server Error: /api/v1/calculator/calculations/compare_products/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:41:46,773 log 18812 27452 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:41:46,951 tasks 18812 27452 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 18:41:46,958 tasks 18812 27452 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 18:45:38,306 log 30592 14108 Internal Server Error: /api/v1/calculator/calculations/calculate_single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:45:38,711 log 30592 14108 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:45:38,808 log 30592 14108 Internal Server Error: /api/v1/calculator/calculations/compare_products/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:45:39,005 log 30592 14108 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:45:39,181 tasks 30592 14108 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 18:45:39,183 tasks 30592 14108 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 18:47:40,953 tasks 31196 5760 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 18:47:40,955 tasks 31196 5760 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 18:54:00,921 log 27804 3992 Internal Server Error: /api/v1/calculator/calculations/calculate_batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 18:54:01,023 log 27804 3992 Internal Server Error: /api/v1/calculator/calculations/compare_products/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 231, in compare_products
    result = calculation_service.calculate_shipping_fee(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: CalculationService.calculate_shipping_fee() got an unexpected keyword argument 'request_type'
ERROR 2025-03-01 18:54:01,258 log 27804 3992 Internal Server Error: /api/v1/calculator/calculations/calculate_batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 19:16:33,069 log 31148 25956 Internal Server Error: /api/v1/calculator/calculations/calculate_batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 19:16:33,175 log 31148 25956 Internal Server Error: /api/v1/calculator/calculations/compare_products/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 238, in compare_products
    result = calculation_service.calculate_shipping_fee(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: CalculationService.calculate_shipping_fee() got an unexpected keyword argument 'request_type'
ERROR 2025-03-01 19:16:33,405 log 31148 25956 Internal Server Error: /api/v1/calculator/calculations/calculate_batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 19:16:33,585 tasks 31148 25956 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 19:16:33,588 tasks 31148 25956 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 19:16:46,293 log 31148 25956 Internal Server Error: /api/v1/calculator/calculations/calculate_batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 19:19:19,090 log 28088 26436 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 19:19:19,193 log 28088 26436 Internal Server Error: /api/v1/calculator/calculations/compare_products/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 305, in compare_products
    result = calculation_service.calculate_shipping_fee(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: CalculationService.calculate_shipping_fee() got an unexpected keyword argument 'request_type'
ERROR 2025-03-01 19:19:19,435 log 28088 26436 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 19:19:19,618 tasks 28088 26436 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 19:19:19,620 tasks 28088 26436 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 19:23:54,839 log 26748 28716 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 19:23:54,946 log 26748 28716 Internal Server Error: /api/v1/calculator/calculations/compare_products/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 304, in compare_products
    result = calculation_service.calculate_shipping_fee(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: CalculationService.calculate_shipping_fee() got an unexpected keyword argument 'request_type'
ERROR 2025-03-01 19:23:55,187 log 26748 28716 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 19:23:55,365 tasks 26748 28716 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 19:23:55,367 tasks 26748 28716 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 19:25:50,004 log 2884 3408 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 19:25:50,111 log 2884 3408 Internal Server Error: /api/v1/calculator/calculations/compare_products/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 311, in compare_products
    result = calculation_service.calculate_shipping_fee(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: CalculationService.calculate_shipping_fee() got an unexpected keyword argument 'request_type'
ERROR 2025-03-01 19:25:50,349 log 2884 3408 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 19:25:50,529 tasks 2884 3408 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 270
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 217, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-01 19:25:50,531 tasks 2884 3408 发送任务更新失败: 'NoneType' object has no attribute 'group_send' D:\workspace\workbook\freight\apps\calculator\tasks.py 36
ERROR 2025-03-01 19:43:48,013 log 30460 27988 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 19:44:56,038 log 30604 18880 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 19:53:59,795 log 31348 3408 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 20:11:46,503 log 5988 30468 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 20:18:07,872 log 20780 23276 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 20:20:06,621 log 31048 28204 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 20:21:49,844 log 23176 24692 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 20:22:36,957 log 5236 10972 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 20:23:23,292 log 28016 30436 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 20:24:09,220 log 28324 9000 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 20:25:02,958 log 30248 6228 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 20:26:57,684 log 27080 12036 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 20:27:51,275 log 15292 7972 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 20:28:55,137 log 26324 21104 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 20:31:01,308 log 18056 10840 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 20:32:25,789 log 29948 31584 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 20:34:23,665 log 20784 13896 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 20:36:28,561 log 30360 5760 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 20:38:11,461 log 18056 3408 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 20:40:22,124 log 28744 6024 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 20:41:34,914 log 26020 15268 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 20:43:49,976 log 14712 29276 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 20:44:35,861 log 13708 27796 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 20:45:24,029 log 9280 28356 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 20:49:25,973 log 19364 21364 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 21:01:37,342 log 12728 4580 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 21:18:38,324 log 27724 11520 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 21:19:36,549 log 10256 26068 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 21:20:45,845 log 9772 26436 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 21:22:31,169 log 10768 13604 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 21:24:58,586 log 9616 18512 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 21:31:31,254 log 30828 19648 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 21:32:56,342 log 10704 2428 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 21:40:43,636 log 30976 6728 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 21:41:55,823 log 19388 7308 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 21:43:09,070 log 30852 29064 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 21:44:25,131 log 27836 24184 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 21:46:43,909 log 28476 30232 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 21:50:19,022 log 2336 26300 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 21:55:05,747 log 20856 31160 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 21:56:50,414 log 25208 12280 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 21:58:02,307 log 11768 1880 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 22:00:32,953 log 30116 31220 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 22:02:02,437 log 29396 30912 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:04:23,278 log 1600 30788 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:04:23,605 log 1600 30788 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:04:28,552 log 1600 30788 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:06:49,504 log 21488 6856 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:06:49,833 log 21488 6856 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:06:54,929 log 21488 6856 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:09:17,900 log 30464 19048 Internal Server Error: /api/v1/calculator/batch-tasks/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\mixins.py", line 18, in create
    serializer.is_valid(raise_exception=True)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 495, in to_internal_value
    for field in fields:
                 ^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 378, in _writable_fields
    for field in self.fields.values():
                 ^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\functional.py", line 48, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 372, in fields
    for key, value in self.get_fields().items():
                      ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1103, in get_fields
    field_class, field_kwargs = self.build_field(
                                ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1249, in build_field
    return self.build_unknown_field(field_name, model_class)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1367, in build_unknown_field
    raise ImproperlyConfigured(
django.core.exceptions.ImproperlyConfigured: Field name `total_count` is not valid for model `BatchCalculationTask` in `apps.calculator.serializers.BatchCalculationTaskSerializer`.
ERROR 2025-03-01 23:09:18,222 log 30464 19048 Internal Server Error: /api/v1/calculator/batch-tasks/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\mixins.py", line 18, in create
    serializer.is_valid(raise_exception=True)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 495, in to_internal_value
    for field in fields:
                 ^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 378, in _writable_fields
    for field in self.fields.values():
                 ^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\functional.py", line 48, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 372, in fields
    for key, value in self.get_fields().items():
                      ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1103, in get_fields
    field_class, field_kwargs = self.build_field(
                                ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1249, in build_field
    return self.build_unknown_field(field_name, model_class)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1367, in build_unknown_field
    raise ImproperlyConfigured(
django.core.exceptions.ImproperlyConfigured: Field name `total_count` is not valid for model `BatchCalculationTask` in `apps.calculator.serializers.BatchCalculationTaskSerializer`.
ERROR 2025-03-01 23:09:18,556 log 30464 19048 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:09:18,889 log 30464 19048 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:09:24,035 log 30464 19048 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:10:35,500 log 30272 3340 Internal Server Error: /api/v1/calculator/batch-tasks/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\mixins.py", line 18, in create
    serializer.is_valid(raise_exception=True)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 495, in to_internal_value
    for field in fields:
                 ^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 378, in _writable_fields
    for field in self.fields.values():
                 ^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\functional.py", line 48, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 372, in fields
    for key, value in self.get_fields().items():
                      ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1103, in get_fields
    field_class, field_kwargs = self.build_field(
                                ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1249, in build_field
    return self.build_unknown_field(field_name, model_class)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1367, in build_unknown_field
    raise ImproperlyConfigured(
django.core.exceptions.ImproperlyConfigured: Field name `total_count` is not valid for model `BatchCalculationTask` in `apps.calculator.serializers.BatchCalculationTaskSerializer`.
ERROR 2025-03-01 23:10:35,821 log 30272 3340 Internal Server Error: /api/v1/calculator/batch-tasks/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\mixins.py", line 18, in create
    serializer.is_valid(raise_exception=True)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 495, in to_internal_value
    for field in fields:
                 ^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 378, in _writable_fields
    for field in self.fields.values():
                 ^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\functional.py", line 48, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 372, in fields
    for key, value in self.get_fields().items():
                      ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1103, in get_fields
    field_class, field_kwargs = self.build_field(
                                ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1249, in build_field
    return self.build_unknown_field(field_name, model_class)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1367, in build_unknown_field
    raise ImproperlyConfigured(
django.core.exceptions.ImproperlyConfigured: Field name `total_count` is not valid for model `BatchCalculationTask` in `apps.calculator.serializers.BatchCalculationTaskSerializer`.
ERROR 2025-03-01 23:10:36,147 log 30272 3340 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:10:36,491 log 30272 3340 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:10:41,638 log 30272 3340 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:12:05,327 log 21448 29024 Internal Server Error: /api/v1/calculator/batch-tasks/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\mixins.py", line 18, in create
    serializer.is_valid(raise_exception=True)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 495, in to_internal_value
    for field in fields:
                 ^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 378, in _writable_fields
    for field in self.fields.values():
                 ^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\functional.py", line 48, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 372, in fields
    for key, value in self.get_fields().items():
                      ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1103, in get_fields
    field_class, field_kwargs = self.build_field(
                                ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1249, in build_field
    return self.build_unknown_field(field_name, model_class)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1367, in build_unknown_field
    raise ImproperlyConfigured(
django.core.exceptions.ImproperlyConfigured: Field name `completed_at` is not valid for model `BatchCalculationTask` in `apps.calculator.serializers.BatchCalculationTaskSerializer`.
ERROR 2025-03-01 23:12:05,662 log 21448 29024 Internal Server Error: /api/v1/calculator/batch-tasks/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\mixins.py", line 18, in create
    serializer.is_valid(raise_exception=True)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 495, in to_internal_value
    for field in fields:
                 ^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 378, in _writable_fields
    for field in self.fields.values():
                 ^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\functional.py", line 48, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 372, in fields
    for key, value in self.get_fields().items():
                      ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1103, in get_fields
    field_class, field_kwargs = self.build_field(
                                ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1249, in build_field
    return self.build_unknown_field(field_name, model_class)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1367, in build_unknown_field
    raise ImproperlyConfigured(
django.core.exceptions.ImproperlyConfigured: Field name `completed_at` is not valid for model `BatchCalculationTask` in `apps.calculator.serializers.BatchCalculationTaskSerializer`.
ERROR 2025-03-01 23:48:40,741 log 19464 9880 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:48:47,431 log 19464 9880 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:50:56,881 log 9988 30840 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:51:03,612 log 9988 30840 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:52:35,585 log 7460 25180 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:52:35,920 log 7460 25180 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:52:36,246 log 7460 25180 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:52:36,586 log 7460 25180 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:52:37,827 log 7460 25180 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:52:38,748 log 7460 25180 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:52:41,494 log 7460 25180 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:52:42,104 log 7460 25180 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:53:50,305 log 7416 28688 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:53:50,631 log 7416 28688 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:57:12,212 log 18872 5100 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:57:12,544 log 18872 5100 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:58:28,938 log 26260 11000 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:58:29,258 log 26260 11000 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:58:29,585 log 26260 11000 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:58:29,905 log 26260 11000 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:58:31,164 log 26260 11000 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:58:32,071 log 26260 11000 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:58:34,785 log 26260 11000 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:59:29,365 log 21476 30172 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:59:30,013 log 21476 30172 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:59:30,344 log 21476 30172 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:59:31,598 log 21476 30172 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:59:32,528 log 21476 30172 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-01 23:59:35,232 log 21476 30172 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 00:01:45,311 log 13936 18396 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 00:01:45,648 log 13936 18396 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 00:12:13,509 log 6348 18704 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 00:13:21,395 log 27704 7508 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 01:17:49,347 log 27860 20928 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 01:17:56,713 log 27860 20928 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 01:19:33,699 log 30860 5100 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 01:19:40,025 log 30860 5100 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 238, in calculate_single
    if not serializer.is_valid():
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 501, in to_internal_value
    validated_value = validate_method(validated_value)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\serializers.py", line 131, in validate_weight
    raise InvalidParameterException('重量必须大于0')
apps.core.exceptions.InvalidParameterException: 重量必须大于0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 261, in calculate_single
    except (ProductNotFoundException, WeightRangeNotFoundException, ZonePriceNotFoundException) as e:
                                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^
NameError: name 'ZonePriceNotFoundException' is not defined. Did you mean: 'ProductNotFoundException'?
ERROR 2025-03-02 01:19:41,028 log 30860 5100 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 238, in calculate_single
    if not serializer.is_valid():
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 501, in to_internal_value
    validated_value = validate_method(validated_value)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\serializers.py", line 131, in validate_weight
    raise InvalidParameterException('重量必须大于0')
apps.core.exceptions.InvalidParameterException: 重量必须大于0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 261, in calculate_single
    except (ProductNotFoundException, WeightRangeNotFoundException, ZonePriceNotFoundException) as e:
                                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^
NameError: name 'ZonePriceNotFoundException' is not defined. Did you mean: 'ProductNotFoundException'?
ERROR 2025-03-02 01:21:25,331 log 20120 10724 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 264, in calculate_batch
    if not serializer.is_valid():
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 495, in to_internal_value
    for field in fields:
                 ^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 378, in _writable_fields
    for field in self.fields.values():
                 ^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\functional.py", line 48, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 372, in fields
    for key, value in self.get_fields().items():
                      ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1079, in get_fields
    field_names = self.get_field_names(declared_fields, info)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1175, in get_field_names
    assert field_name in fields, (
           ^^^^^^^^^^^^^^^^^^^^
AssertionError: The field 'status_display' was declared on serializer BatchCalculationTaskSerializer, but has not been included in the 'fields' option.
ERROR 2025-03-02 01:21:25,670 log 20120 10724 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 264, in calculate_batch
    if not serializer.is_valid():
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 495, in to_internal_value
    for field in fields:
                 ^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 378, in _writable_fields
    for field in self.fields.values():
                 ^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\functional.py", line 48, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 372, in fields
    for key, value in self.get_fields().items():
                      ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1079, in get_fields
    field_names = self.get_field_names(declared_fields, info)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1175, in get_field_names
    assert field_name in fields, (
           ^^^^^^^^^^^^^^^^^^^^
AssertionError: The field 'status_display' was declared on serializer BatchCalculationTaskSerializer, but has not been included in the 'fields' option.
ERROR 2025-03-02 01:21:31,884 log 20120 10724 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 236, in calculate_single
    if not serializer.is_valid():
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 501, in to_internal_value
    validated_value = validate_method(validated_value)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\serializers.py", line 41, in validate_weight
    raise InvalidParameterException('重量必须大于0')
apps.core.exceptions.InvalidParameterException: 重量必须大于0
ERROR 2025-03-02 01:21:32,854 log 20120 10724 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 236, in calculate_single
    if not serializer.is_valid():
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 501, in to_internal_value
    validated_value = validate_method(validated_value)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\serializers.py", line 41, in validate_weight
    raise InvalidParameterException('重量必须大于0')
apps.core.exceptions.InvalidParameterException: 重量必须大于0
ERROR 2025-03-02 01:21:33,334 log 20120 10724 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 264, in calculate_batch
    if not serializer.is_valid():
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 495, in to_internal_value
    for field in fields:
                 ^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 378, in _writable_fields
    for field in self.fields.values():
                 ^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\functional.py", line 48, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 372, in fields
    for key, value in self.get_fields().items():
                      ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1079, in get_fields
    field_names = self.get_field_names(declared_fields, info)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1175, in get_field_names
    assert field_name in fields, (
           ^^^^^^^^^^^^^^^^^^^^
AssertionError: The field 'status_display' was declared on serializer BatchCalculationTaskSerializer, but has not been included in the 'fields' option.
ERROR 2025-03-02 01:21:50,519 log 27168 31608 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 264, in calculate_batch
    if not serializer.is_valid():
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 495, in to_internal_value
    for field in fields:
                 ^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 378, in _writable_fields
    for field in self.fields.values():
                 ^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\functional.py", line 48, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 372, in fields
    for key, value in self.get_fields().items():
                      ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1079, in get_fields
    field_names = self.get_field_names(declared_fields, info)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1175, in get_field_names
    assert field_name in fields, (
           ^^^^^^^^^^^^^^^^^^^^
AssertionError: The field 'provider_name' was declared on serializer BatchCalculationTaskSerializer, but has not been included in the 'fields' option.
ERROR 2025-03-02 01:21:50,676 log 27168 31608 Internal Server Error: /api/v1/calculator/calculations/compare-products/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 01:21:50,771 log 27168 31608 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 236, in calculate_single
    if not serializer.is_valid():
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 501, in to_internal_value
    validated_value = validate_method(validated_value)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\serializers.py", line 41, in validate_weight
    raise InvalidParameterException('重量必须大于0')
apps.core.exceptions.InvalidParameterException: 重量必须大于0
ERROR 2025-03-02 01:21:50,929 log 27168 31608 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 264, in calculate_batch
    if not serializer.is_valid():
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 495, in to_internal_value
    for field in fields:
                 ^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 378, in _writable_fields
    for field in self.fields.values():
                 ^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\functional.py", line 48, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 372, in fields
    for key, value in self.get_fields().items():
                      ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1079, in get_fields
    field_names = self.get_field_names(declared_fields, info)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1175, in get_field_names
    assert field_name in fields, (
           ^^^^^^^^^^^^^^^^^^^^
AssertionError: The field 'provider_name' was declared on serializer BatchCalculationTaskSerializer, but has not been included in the 'fields' option.
ERROR 2025-03-02 01:21:51,191 tasks 27168 31608 导出计算结果失败: 'BatchCalculationTask' object has no attribute 'calculationrequest_set' D:\workspace\workbook\freight\apps\calculator\tasks.py 264
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\tasks.py", line 218, in export_calculation_results
    calculations = task.calculationrequest_set.all()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BatchCalculationTask' object has no attribute 'calculationrequest_set'
ERROR 2025-03-02 01:21:51,194 log 27168 31608 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 01:21:51,680 log 27168 31608 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 264, in calculate_batch
    if not serializer.is_valid():
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 495, in to_internal_value
    for field in fields:
                 ^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 378, in _writable_fields
    for field in self.fields.values():
                 ^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\functional.py", line 48, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 372, in fields
    for key, value in self.get_fields().items():
                      ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1079, in get_fields
    field_names = self.get_field_names(declared_fields, info)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1175, in get_field_names
    assert field_name in fields, (
           ^^^^^^^^^^^^^^^^^^^^
AssertionError: The field 'provider_name' was declared on serializer BatchCalculationTaskSerializer, but has not been included in the 'fields' option.
ERROR 2025-03-02 01:21:51,864 log 27168 31608 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 264, in calculate_batch
    if not serializer.is_valid():
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 495, in to_internal_value
    for field in fields:
                 ^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 378, in _writable_fields
    for field in self.fields.values():
                 ^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\functional.py", line 48, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 372, in fields
    for key, value in self.get_fields().items():
                      ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1079, in get_fields
    field_names = self.get_field_names(declared_fields, info)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1175, in get_field_names
    assert field_name in fields, (
           ^^^^^^^^^^^^^^^^^^^^
AssertionError: The field 'provider_name' was declared on serializer BatchCalculationTaskSerializer, but has not been included in the 'fields' option.
ERROR 2025-03-02 01:21:54,278 log 27168 31608 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 236, in calculate_single
    if not serializer.is_valid():
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 501, in to_internal_value
    validated_value = validate_method(validated_value)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\serializers.py", line 41, in validate_weight
    raise InvalidParameterException('重量必须大于0')
apps.core.exceptions.InvalidParameterException: 重量必须大于0
ERROR 2025-03-02 01:21:54,702 log 27168 31608 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 236, in calculate_single
    if not serializer.is_valid():
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 501, in to_internal_value
    validated_value = validate_method(validated_value)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\serializers.py", line 41, in validate_weight
    raise InvalidParameterException('重量必须大于0')
apps.core.exceptions.InvalidParameterException: 重量必须大于0
ERROR 2025-03-02 01:21:54,952 log 27168 31608 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 264, in calculate_batch
    if not serializer.is_valid():
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 495, in to_internal_value
    for field in fields:
                 ^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 378, in _writable_fields
    for field in self.fields.values():
                 ^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\functional.py", line 48, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 372, in fields
    for key, value in self.get_fields().items():
                      ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1079, in get_fields
    field_names = self.get_field_names(declared_fields, info)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 1175, in get_field_names
    assert field_name in fields, (
           ^^^^^^^^^^^^^^^^^^^^
AssertionError: The field 'provider_name' was declared on serializer BatchCalculationTaskSerializer, but has not been included in the 'fields' option.
ERROR 2025-03-02 01:23:43,286 log 29968 26788 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 01:23:43,626 log 29968 26788 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 01:23:51,026 log 29968 26788 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 01:29:35,295 log 10096 29916 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 01:29:35,544 log 10096 29916 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 01:29:35,560 log 10096 29916 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 01:29:35,818 log 10096 29916 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 01:29:36,090 log 10096 29916 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 01:30:55,868 log 18744 24552 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 01:30:56,183 log 18744 24552 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 01:30:57,415 log 18744 24552 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 01:30:58,324 log 18744 24552 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 01:31:01,043 log 18744 24552 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 01:31:03,397 log 18744 24552 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 01:31:03,646 log 18744 24552 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 01:31:03,659 log 18744 24552 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 01:31:03,910 log 18744 24552 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 01:31:04,175 log 18744 24552 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 01:37:44,225 log 31724 908 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 286, in calculate_batch
    if not serializer.is_valid():
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 499, in to_internal_value
    validated_value = field.run_validation(primitive_value)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\fields.py", line 540, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\fields.py", line 1650, in to_internal_value
    return self.run_child_validation(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\fields.py", line 1664, in run_child_validation
    result.append(self.child.run_validation(item))
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 501, in to_internal_value
    validated_value = validate_method(validated_value)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\serializers.py", line 41, in validate_weight
    raise InvalidParameterException('重量必须大于0')
apps.core.exceptions.InvalidParameterException: 重量必须大于0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 308, in calculate_batch
    }, status=e.status_code)
              ^^^^^^^^^^^^^
AttributeError: 'InvalidParameterException' object has no attribute 'status_code'
ERROR 2025-03-02 01:37:44,548 log 31724 908 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 287, in calculate_batch
    raise InvalidParameterException(message=str(serializer.errors))
apps.core.exceptions.InvalidParameterException: {'items': {0: {'length': [ErrorDetail(string='该字段是必填项。', code='required')], 'width': [ErrorDetail(string='该字段是必填项。', code='required')], 'height': [ErrorDetail(string='该字段是必填项。', code='required')]}, 1: {'length': [ErrorDetail(string='该字段是必填项。', code='required')], 'width': [ErrorDetail(string='该字段是必填项。', code='required')], 'height': [ErrorDetail(string='该字段是必填项。', code='required')]}, 2: {'length': [ErrorDetail(string='该字段是必填项。', code='required')], 'width': [ErrorDetail(string='该字段是必填项。', code='required')], 'height': [ErrorDetail(string='该字段是必填项。', code='required')]}, 3: {'length': [ErrorDetail(string='该字段是必填项。', code='required')], 'width': [ErrorDetail(string='该字段是必填项。', code='required')], 'height': [ErrorDetail(string='该字段是必填项。', code='required')]}, 4: {'length': [ErrorDetail(string='该字段是必填项。', code='required')], 'width': [ErrorDetail(string='该字段是必填项。', code='required')], 'height': [ErrorDetail(string='该字段是必填项。', code='required')]}, 5: {'length': [ErrorDetail(string='该字段是必填项。', code='required')], 'width': [ErrorDetail(string='该字段是必填项。', code='required')], 'height': [ErrorDetail(string='该字段是必填项。', code='required')]}, 6: {'length': [ErrorDetail(string='该字段是必填项。', code='required')], 'width': [ErrorDetail(string='该字段是必填项。', code='required')], 'height': [ErrorDetail(string='该字段是必填项。', code='required')]}, 7: {'length': [ErrorDetail(string='该字段是必填项。', code='required')], 'width': [ErrorDetail(string='该字段是必填项。', code='required')], 'height': [ErrorDetail(string='该字段是必填项。', code='required')]}, 8: {'length': [ErrorDetail(string='该字段是必填项。', code='required')], 'width': [ErrorDetail(string='该字段是必填项。', code='required')], 'height': [ErrorDetail(string='该字段是必填项。', code='required')]}, 9: {'length': [ErrorDetail(string='该字段是必填项。', code='required')], 'width': [ErrorDetail(string='该字段是必填项。', code='required')], 'height': [ErrorDetail(string='该字段是必填项。', code='required')]}}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 308, in calculate_batch
    }, status=e.status_code)
              ^^^^^^^^^^^^^
AttributeError: 'InvalidParameterException' object has no attribute 'status_code'
ERROR 2025-03-02 01:37:50,782 log 31724 908 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 252, in calculate_single
    if not serializer.is_valid():
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 501, in to_internal_value
    validated_value = validate_method(validated_value)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\serializers.py", line 72, in validate_weight
    raise InvalidParameterException('重量必须大于0')
apps.core.exceptions.InvalidParameterException: 重量必须大于0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 270, in calculate_single
    }, status=e.status_code)
              ^^^^^^^^^^^^^
AttributeError: 'InvalidParameterException' object has no attribute 'status_code'
ERROR 2025-03-02 01:37:51,747 log 31724 908 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 252, in calculate_single
    if not serializer.is_valid():
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 501, in to_internal_value
    validated_value = validate_method(validated_value)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\serializers.py", line 72, in validate_weight
    raise InvalidParameterException('重量必须大于0')
apps.core.exceptions.InvalidParameterException: 重量必须大于0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 270, in calculate_single
    }, status=e.status_code)
              ^^^^^^^^^^^^^
AttributeError: 'InvalidParameterException' object has no attribute 'status_code'
ERROR 2025-03-02 01:37:52,218 log 31724 908 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 287, in calculate_batch
    raise InvalidParameterException(message=str(serializer.errors))
apps.core.exceptions.InvalidParameterException: {'items': {0: {'length': [ErrorDetail(string='该字段是必填项。', code='required')], 'width': [ErrorDetail(string='该字段是必填项。', code='required')], 'height': [ErrorDetail(string='该字段是必填项。', code='required')], 'to_postal': [ErrorDetail(string='该字段是必填项。', code='required')]}, 1: {'length': [ErrorDetail(string='该字段是必填项。', code='required')], 'width': [ErrorDetail(string='该字段是必填项。', code='required')], 'height': [ErrorDetail(string='该字段是必填项。', code='required')], 'to_postal': [ErrorDetail(string='该字段是必填项。', code='required')]}}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 308, in calculate_batch
    }, status=e.status_code)
              ^^^^^^^^^^^^^
AttributeError: 'InvalidParameterException' object has no attribute 'status_code'
ERROR 2025-03-02 09:25:28,603 log 30756 31964 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 339, in calculate_single
    if not serializer.is_valid():
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 501, in to_internal_value
    validated_value = validate_method(validated_value)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\serializers.py", line 72, in validate_weight
    raise InvalidParameterException('重量必须大于0')
apps.core.exceptions.InvalidParameterException: 重量必须大于0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 353, in calculate_single
    'code': e.code,
            ^^^^^^
AttributeError: 'InvalidParameterException' object has no attribute 'code'
ERROR 2025-03-02 09:25:29,601 log 30756 31964 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 339, in calculate_single
    if not serializer.is_valid():
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 501, in to_internal_value
    validated_value = validate_method(validated_value)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\serializers.py", line 72, in validate_weight
    raise InvalidParameterException('重量必须大于0')
apps.core.exceptions.InvalidParameterException: 重量必须大于0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 353, in calculate_single
    'code': e.code,
            ^^^^^^
AttributeError: 'InvalidParameterException' object has no attribute 'code'
ERROR 2025-03-02 09:27:33,369 log 2444 14076 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 09:27:33,707 log 2444 14076 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 09:27:35,054 log 2444 14076 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 09:27:35,982 log 2444 14076 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 09:27:38,756 log 2444 14076 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 09:27:41,058 log 2444 14076 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 09:27:41,307 log 2444 14076 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 09:27:41,322 log 2444 14076 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 09:27:41,838 log 2444 14076 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 10:32:11,194 log 34792 30608 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\utils\functional.py", line 32, in __call__
    return self.__value__
           ^^^^^^^^^^^^^^
AttributeError: 'ChannelPromise' object has no attribute '__value__'. Did you mean: '__call__'?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\connection.py", line 472, in _reraise_as_library_errors
    yield
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\connection.py", line 459, in _ensure_connection
    return retry_over_time(
           ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\utils\functional.py", line 318, in retry_over_time
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\connection.py", line 934, in _connection_factory
    self._connection = self._establish_connection()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\connection.py", line 860, in _establish_connection
    conn = self.transport.establish_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\transport\pyamqp.py", line 203, in establish_connection
    conn.connect()
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\amqp\connection.py", line 324, in connect
    self.transport.connect()
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\amqp\transport.py", line 132, in connect
    self._connect(self.host, self.port, self.connect_timeout)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\amqp\transport.py", line 187, in _connect
    self.sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 99, in export
    export_calculation_results.delay(task_id)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\celery\app\task.py", line 444, in delay
    return self.apply_async(args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\celery\app\task.py", line 594, in apply_async
    return app.send_task(
           ^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\celery\app\base.py", line 801, in send_task
    amqp.send_task_message(P, name, message, **options)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\celery\app\amqp.py", line 518, in send_task_message
    ret = producer.publish(
          ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\messaging.py", line 186, in publish
    return _publish(
           ^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\connection.py", line 556, in _ensured
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\messaging.py", line 195, in _publish
    channel = self.channel
              ^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\messaging.py", line 218, in _get_channel
    channel = self._channel = channel()
                              ^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\utils\functional.py", line 34, in __call__
    value = self.__value__ = self.__contract__()
                             ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\messaging.py", line 234, in <lambda>
    channel = ChannelPromise(lambda: connection.default_channel)
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\connection.py", line 953, in default_channel
    self._ensure_connection(**conn_opts)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\connection.py", line 458, in _ensure_connection
    with ctx():
         ^^^^^
  File "D:\common_software\python\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\connection.py", line 476, in _reraise_as_library_errors
    raise ConnectionError(str(exc)) from exc
kombu.exceptions.OperationalError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 113, in export
    return error_response(
           ^^^^^^^^^^^^^^^
TypeError: error_response() got an unexpected keyword argument 'status'
ERROR 2025-03-02 10:32:11,407 log 34792 30608 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/download-result/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 127, in download_result
    return error_response(
           ^^^^^^^^^^^^^^^
TypeError: error_response() got an unexpected keyword argument 'status'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 156, in download_result
    return error_response(
           ^^^^^^^^^^^^^^^
TypeError: error_response() got an unexpected keyword argument 'status'
ERROR 2025-03-02 10:32:11,528 log 34792 30608 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/download-errors/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 177, in download_errors
    file_path = task.error_file.path
                ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'path'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 199, in download_errors
    return error_response(
           ^^^^^^^^^^^^^^^
TypeError: error_response() got an unexpected keyword argument 'status'
ERROR 2025-03-02 10:36:30,575 log 16360 11240 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\utils\functional.py", line 32, in __call__
    return self.__value__
           ^^^^^^^^^^^^^^
AttributeError: 'ChannelPromise' object has no attribute '__value__'. Did you mean: '__call__'?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\connection.py", line 472, in _reraise_as_library_errors
    yield
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\connection.py", line 459, in _ensure_connection
    return retry_over_time(
           ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\utils\functional.py", line 318, in retry_over_time
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\connection.py", line 934, in _connection_factory
    self._connection = self._establish_connection()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\connection.py", line 860, in _establish_connection
    conn = self.transport.establish_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\transport\pyamqp.py", line 203, in establish_connection
    conn.connect()
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\amqp\connection.py", line 324, in connect
    self.transport.connect()
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\amqp\transport.py", line 132, in connect
    self._connect(self.host, self.port, self.connect_timeout)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\amqp\transport.py", line 187, in _connect
    self.sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 99, in export
    export_calculation_results.delay(task_id)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\celery\app\task.py", line 444, in delay
    return self.apply_async(args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\celery\app\task.py", line 594, in apply_async
    return app.send_task(
           ^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\celery\app\base.py", line 801, in send_task
    amqp.send_task_message(P, name, message, **options)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\celery\app\amqp.py", line 518, in send_task_message
    ret = producer.publish(
          ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\messaging.py", line 186, in publish
    return _publish(
           ^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\connection.py", line 556, in _ensured
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\messaging.py", line 195, in _publish
    channel = self.channel
              ^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\messaging.py", line 218, in _get_channel
    channel = self._channel = channel()
                              ^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\utils\functional.py", line 34, in __call__
    value = self.__value__ = self.__contract__()
                             ^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\messaging.py", line 234, in <lambda>
    channel = ChannelPromise(lambda: connection.default_channel)
                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\connection.py", line 953, in default_channel
    self._ensure_connection(**conn_opts)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\connection.py", line 458, in _ensure_connection
    with ctx():
         ^^^^^
  File "D:\common_software\python\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\kombu\connection.py", line 476, in _reraise_as_library_errors
    raise ConnectionError(str(exc)) from exc
kombu.exceptions.OperationalError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 113, in export
    return error_response(
           ^^^^^^^^^^^^^^^
TypeError: error_response() got an unexpected keyword argument 'status'
ERROR 2025-03-02 10:36:30,793 log 16360 11240 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/download-result/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 127, in download_result
    return error_response(
           ^^^^^^^^^^^^^^^
TypeError: error_response() got an unexpected keyword argument 'status'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 156, in download_result
    return error_response(
           ^^^^^^^^^^^^^^^
TypeError: error_response() got an unexpected keyword argument 'status'
ERROR 2025-03-02 10:36:30,914 log 16360 11240 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/download-errors/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 177, in download_errors
    file_path = task.error_file.path
                ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'path'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 199, in download_errors
    return error_response(
           ^^^^^^^^^^^^^^^
TypeError: error_response() got an unexpected keyword argument 'status'
ERROR 2025-03-02 10:39:11,580 log 34668 27724 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 10:39:18,453 log 34668 27724 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 10:43:12,746 log 31244 8704 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 10:46:16,727 log 9184 8380 Internal Server Error: /api/v1/calculator/batch-tasks/TEST_TASK_001/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 10:47:16,915 log 7932 30560 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 11:10:01,716 log 29272 20120 Internal Server Error: /api/v1/calculator/batch-tasks/2/download-errors/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 11:10:01,813 log 29272 20120 Internal Server Error: /api/v1/calculator/batch-tasks/2/download-result/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 11:10:01,913 log 29272 20120 Internal Server Error: /api/v1/calculator/batch-tasks/2/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 11:53:32,494 log 33148 29416 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 11:53:36,626 log 33148 29416 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 11:53:36,734 log 33148 29416 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 11:53:37,079 log 33148 29416 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 11:53:37,286 log 33148 29416 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 11:53:38,317 log 33148 29416 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 11:55:55,727 log 2996 7636 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 11:55:59,842 log 2996 7636 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 11:55:59,951 log 2996 7636 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 11:56:00,285 log 2996 7636 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 11:56:00,490 log 2996 7636 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 11:56:01,394 log 2996 7636 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:02:46,709 log 29940 33668 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:02:50,963 log 29940 33668 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:02:51,071 log 29940 33668 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:02:51,400 log 29940 33668 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:02:51,609 log 29940 33668 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:02:52,498 log 29940 33668 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:05:20,047 log 27448 21016 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:05:24,325 log 27448 21016 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:05:24,430 log 27448 21016 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:05:24,827 log 27448 21016 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:05:25,040 log 27448 21016 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:05:25,930 log 27448 21016 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:07:00,296 log 32564 34452 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:07:00,558 log 32564 34452 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:07:04,668 log 32564 34452 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:07:04,774 log 32564 34452 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:07:05,104 log 32564 34452 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:07:05,311 log 32564 34452 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:07:06,211 log 32564 34452 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:07:08,882 log 32564 34452 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:07:08,970 log 32564 34452 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:07:08,975 log 32564 34452 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:07:09,064 log 32564 34452 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:07:09,156 log 32564 34452 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:08:55,174 log 29532 22408 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:08:55,438 log 29532 22408 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:08:59,552 log 29532 22408 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:08:59,656 log 29532 22408 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:08:59,981 log 29532 22408 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:09:00,184 log 29532 22408 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:09:01,071 log 29532 22408 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:09:03,749 log 29532 22408 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:09:03,840 log 29532 22408 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:09:03,845 log 29532 22408 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:09:03,933 log 29532 22408 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:09:04,024 log 29532 22408 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:15:43,950 log 10992 24440 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:15:44,217 log 10992 24440 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:15:48,309 log 10992 24440 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:15:48,413 log 10992 24440 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:15:48,755 log 10992 24440 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:15:48,961 log 10992 24440 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:15:49,884 log 10992 24440 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:15:52,608 log 10992 24440 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:15:52,697 log 10992 24440 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:15:52,703 log 10992 24440 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:15:52,792 log 10992 24440 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:15:52,884 log 10992 24440 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:18:48,060 log 26292 15728 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:18:48,329 log 26292 15728 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:18:52,459 log 26292 15728 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:18:52,569 log 26292 15728 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:18:52,944 log 26292 15728 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:18:53,155 log 26292 15728 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:18:54,110 log 26292 15728 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:18:56,984 log 26292 15728 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:21:28,673 log 27496 29772 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:21:37,477 log 27496 29772 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:24:45,403 log 32536 30996 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:24:54,269 log 32536 30996 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:27:38,191 log 9532 7724 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:27:47,308 log 9532 7724 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:29:21,238 log 3400 31896 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:29:30,170 log 3400 31896 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:37:08,464 log 28560 13260 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:39:25,199 log 11612 33836 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:42:15,147 log 29184 416 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:43:39,343 log 3996 7920 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:46:38,854 log 32816 34432 Internal Server Error: /api/v1/calculator/batch-tasks/f72d8a35-af7b-41d8-b337-6d21281cd7ce/progress/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:46:44,671 log 32816 34432 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:48:32,177 log 24216 10132 Internal Server Error: /api/v1/calculator/batch-tasks/5a4a48ed-f6f1-4844-9077-3624e19d72fd/progress/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 12:48:38,050 log 24216 10132 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:08:07,321 log 10760 31220 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:08:07,580 log 10760 31220 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:08:07,870 log 10760 31220 Internal Server Error: /api/v1/calculator/batch-tasks/e27428d7-0d29-47a2-8223-33f9b0a1b42f/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Expected a `Response`, `HttpResponse` or `StreamingHttpResponse` to be returned from the view, but received a `<class 'dict'>`
ERROR 2025-03-02 13:08:07,992 log 10760 31220 Internal Server Error: /api/v1/calculator/batch-tasks/53b81ec6-68b7-4915-8174-c7b881944a50/progress/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Expected a `Response`, `HttpResponse` or `StreamingHttpResponse` to be returned from the view, but received a `<class 'dict'>`
ERROR 2025-03-02 13:08:11,729 log 10760 31220 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:08:11,830 log 10760 31220 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:08:12,330 log 10760 31220 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:08:13,222 log 10760 31220 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:08:13,519 log 10760 31220 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:08:13,689 log 10760 31220 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:08:13,855 log 10760 31220 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:08:15,927 log 10760 31220 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:08:16,018 log 10760 31220 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:08:16,022 log 10760 31220 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:08:16,112 log 10760 31220 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:08:16,201 log 10760 31220 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:10:52,652 log 10096 34524 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Expected a `Response`, `HttpResponse` or `StreamingHttpResponse` to be returned from the view, but received a `<class 'dict'>`
ERROR 2025-03-02 13:10:52,944 log 10096 34524 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Expected a `Response`, `HttpResponse` or `StreamingHttpResponse` to be returned from the view, but received a `<class 'dict'>`
ERROR 2025-03-02 13:10:53,255 log 10096 34524 Internal Server Error: /api/v1/calculator/batch-tasks/dc88823e-171b-4f48-ba49-628f1a3c29c3/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Expected a `Response`, `HttpResponse` or `StreamingHttpResponse` to be returned from the view, but received a `<class 'dict'>`
ERROR 2025-03-02 13:10:53,375 log 10096 34524 Internal Server Error: /api/v1/calculator/batch-tasks/92bd56ba-ffe2-42ce-a39a-b5035497dbbc/progress/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Expected a `Response`, `HttpResponse` or `StreamingHttpResponse` to be returned from the view, but received a `<class 'dict'>`
ERROR 2025-03-02 13:10:57,117 log 10096 34524 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Expected a `Response`, `HttpResponse` or `StreamingHttpResponse` to be returned from the view, but received a `<class 'dict'>`
ERROR 2025-03-02 13:10:57,243 log 10096 34524 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Expected a `Response`, `HttpResponse` or `StreamingHttpResponse` to be returned from the view, but received a `<class 'dict'>`
ERROR 2025-03-02 13:10:57,778 log 10096 34524 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Expected a `Response`, `HttpResponse` or `StreamingHttpResponse` to be returned from the view, but received a `<class 'dict'>`
ERROR 2025-03-02 13:10:58,697 log 10096 34524 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Expected a `Response`, `HttpResponse` or `StreamingHttpResponse` to be returned from the view, but received a `<class 'dict'>`
ERROR 2025-03-02 13:10:58,928 log 10096 34524 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Expected a `Response`, `HttpResponse` or `StreamingHttpResponse` to be returned from the view, but received a `<class 'dict'>`
ERROR 2025-03-02 13:10:59,096 log 10096 34524 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Expected a `Response`, `HttpResponse` or `StreamingHttpResponse` to be returned from the view, but received a `<class 'dict'>`
ERROR 2025-03-02 13:10:59,293 log 10096 34524 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Expected a `Response`, `HttpResponse` or `StreamingHttpResponse` to be returned from the view, but received a `<class 'dict'>`
ERROR 2025-03-02 13:10:59,405 log 10096 34524 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Expected a `Response`, `HttpResponse` or `StreamingHttpResponse` to be returned from the view, but received a `<class 'dict'>`
ERROR 2025-03-02 13:10:59,517 log 10096 34524 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Expected a `Response`, `HttpResponse` or `StreamingHttpResponse` to be returned from the view, but received a `<class 'dict'>`
ERROR 2025-03-02 13:10:59,627 log 10096 34524 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Expected a `Response`, `HttpResponse` or `StreamingHttpResponse` to be returned from the view, but received a `<class 'dict'>`
ERROR 2025-03-02 13:11:01,625 log 10096 34524 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Expected a `Response`, `HttpResponse` or `StreamingHttpResponse` to be returned from the view, but received a `<class 'dict'>`
ERROR 2025-03-02 13:11:01,742 log 10096 34524 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Expected a `Response`, `HttpResponse` or `StreamingHttpResponse` to be returned from the view, but received a `<class 'dict'>`
ERROR 2025-03-02 13:11:01,859 log 10096 34524 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Expected a `Response`, `HttpResponse` or `StreamingHttpResponse` to be returned from the view, but received a `<class 'dict'>`
ERROR 2025-03-02 13:11:01,980 log 10096 34524 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Expected a `Response`, `HttpResponse` or `StreamingHttpResponse` to be returned from the view, but received a `<class 'dict'>`
ERROR 2025-03-02 13:12:56,977 log 33748 13204 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:12:57,249 log 33748 13204 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:12:57,547 log 33748 13204 Internal Server Error: /api/v1/calculator/batch-tasks/f46c234f-1446-48a9-aed2-164b50aa2b52/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Expected a `Response`, `HttpResponse` or `StreamingHttpResponse` to be returned from the view, but received a `<class 'dict'>`
ERROR 2025-03-02 13:12:57,672 log 33748 13204 Internal Server Error: /api/v1/calculator/batch-tasks/3ad942b1-6a5f-4204-8c2e-d7ed6a242939/progress/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Expected a `Response`, `HttpResponse` or `StreamingHttpResponse` to be returned from the view, but received a `<class 'dict'>`
ERROR 2025-03-02 13:13:01,443 log 33748 13204 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:13:01,544 log 33748 13204 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:13:02,057 log 33748 13204 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:13:03,013 log 33748 13204 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:13:03,307 log 33748 13204 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:13:03,479 log 33748 13204 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:13:03,651 log 33748 13204 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:13:05,755 log 33748 13204 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:13:05,846 log 33748 13204 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:13:05,851 log 33748 13204 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:13:05,942 log 33748 13204 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:13:06,036 log 33748 13204 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:15:14,463 log 26852 31844 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:15:14,727 log 26852 31844 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:15:15,021 log 26852 31844 Internal Server Error: /api/v1/calculator/batch-tasks/cac61b53-b221-4351-a3b2-16540e8aa0c9/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Expected a `Response`, `HttpResponse` or `StreamingHttpResponse` to be returned from the view, but received a `<class 'dict'>`
ERROR 2025-03-02 13:15:15,144 log 26852 31844 Internal Server Error: /api/v1/calculator/batch-tasks/4adc8023-29ca-4732-b865-1bbcd0010877/progress/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Expected a `Response`, `HttpResponse` or `StreamingHttpResponse` to be returned from the view, but received a `<class 'dict'>`
ERROR 2025-03-02 13:15:18,878 log 26852 31844 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:15:18,980 log 26852 31844 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:15:19,467 log 26852 31844 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:15:20,342 log 26852 31844 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:15:20,638 log 26852 31844 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:15:20,805 log 26852 31844 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:15:20,969 log 26852 31844 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:15:23,017 log 26852 31844 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:15:23,107 log 26852 31844 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:15:23,112 log 26852 31844 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:15:23,202 log 26852 31844 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:15:23,292 log 26852 31844 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 13:59:56,109 log 34092 27132 Internal Server Error: /api/v1/calculator/batch-tasks/98de607a-3cca-42f5-962d-347371d42b69/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 13:59:56,284 log 34092 27132 Internal Server Error: /api/v1/calculator/batch-tasks/af3e8433-20db-477a-82d2-7c49980e6461/progress/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 14:00:20,955 log 11612 34216 Internal Server Error: /api/v1/calculator/batch-tasks/8a1c6c99-877d-4ced-9d29-f41e82e2becc/progress/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 14:00:21,108 log 9988 10096 Internal Server Error: /api/v1/calculator/batch-tasks/9b710826-5310-45df-a858-61cf51db9f89/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 14:00:47,863 log 30004 31724 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 14:00:47,985 log 34152 1600 Internal Server Error: /api/v1/calculator/batch-tasks/e2e15ccb-7e0e-485d-9b51-3d019e0c388b/progress/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 14:00:48,026 log 23220 9436 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 14:00:48,061 log 10160 30508 Internal Server Error: /api/v1/calculator/batch-tasks/aac6ddbf-c63e-4dd3-a62a-aeec650919cf/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 14:02:04,108 log 32828 29260 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 14:02:04,230 log 6468 34708 Internal Server Error: /api/v1/calculator/batch-tasks/79d03032-dee7-43fd-a297-b5d9a0ab2471/progress/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 14:02:04,386 log 20144 17164 Internal Server Error: /api/v1/calculator/batch-tasks/ae66e4de-e841-482f-ab9b-f57adca7cb46/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 14:06:03,897 log 25852 9248 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 14:09:51,429 log 6164 32840 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 14:10:01,482 log 10576 4928 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 14:25:59,064 log 27968 6068 Service Unavailable: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 14:28:49,930 log 30612 13440 Service Unavailable: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 14:28:50,177 log 19464 2540 Service Unavailable: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 14:41:12,558 log 34528 23796 Service Unavailable: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 14:41:12,597 log 33652 25760 Service Unavailable: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 14:43:33,711 log 11968 31148 Service Unavailable: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 14:43:33,952 log 28380 10004 Service Unavailable: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 14:52:51,251 log 7460 33804 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 14:52:51,518 log 7460 33804 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 14:52:52,010 log 7460 33804 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 14:55:12,797 log 31060 29740 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 14:55:13,078 log 31060 29740 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 14:55:13,578 log 31060 29740 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:06:52,214 log 32992 1084 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:06:52,490 log 32992 1084 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:06:52,990 log 32992 1084 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:08:52,975 log 31756 32252 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:10:04,684 log 27192 9148 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:11:20,526 log 31848 7748 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:11:21,902 log 31848 7748 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:29:34,222 log 15076 33540 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:29:34,491 log 15076 33540 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:29:34,984 log 15076 33540 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:29:35,858 log 15076 33540 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:36:01,489 log 7380 28376 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:36:01,744 log 7380 28376 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:36:02,235 log 7380 28376 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:36:03,115 log 7380 28376 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:36:58,677 log 28344 26544 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:36:58,933 log 28344 26544 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:36:59,421 log 28344 26544 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:37:00,368 log 28344 26544 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:38:10,361 log 12272 33840 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:38:10,624 log 12272 33840 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:38:11,110 log 12272 33840 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:38:12,030 log 12272 33840 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:45:15,866 log 31968 31820 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:45:16,135 log 31968 31820 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:45:16,613 log 31968 31820 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:45:17,523 log 31968 31820 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:46:28,978 log 17572 29836 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 15:46:29,289 log 17572 29836 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 15:46:29,814 log 17572 29836 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 15:46:30,751 log 17572 29836 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 15:47:56,093 log 34224 26716 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 15:47:56,376 log 34224 26716 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 15:47:56,875 log 34224 26716 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 15:47:57,808 log 34224 26716 Internal Server Error: /api/v1/calculator/calculations/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 15:52:35,734 log 28204 18436 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:52:36,002 log 28204 18436 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:52:36,480 log 28204 18436 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:52:37,394 log 28204 18436 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:57:17,951 log 23796 10456 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:57:18,219 log 23796 10456 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:57:18,708 log 23796 10456 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 15:57:19,617 log 23796 10456 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 16:35:50,587 log 5868 9784 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 16:35:50,841 log 5868 9784 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 16:35:51,323 log 5868 9784 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 16:35:52,285 log 5868 9784 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 16:36:25,828 log 32604 25908 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 16:36:26,099 log 32604 25908 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 16:36:26,580 log 32604 25908 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 16:36:27,502 log 32604 25908 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 16:36:54,861 log 33984 9260 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 16:36:55,137 log 33984 9260 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 16:36:55,628 log 33984 9260 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 16:36:56,595 log 33984 9260 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 16:38:07,384 log 24444 27732 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 16:38:07,492 log 24444 27732 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 16:38:07,969 log 24444 27732 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 16:38:08,887 log 24444 27732 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 16:39:07,758 log 2228 31832 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 16:39:08,025 log 2228 31832 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 16:39:08,507 log 2228 31832 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 16:39:09,413 log 2228 31832 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 16:39:42,359 log 27108 32912 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 16:39:42,619 log 27108 32912 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 16:39:43,104 log 27108 32912 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 16:40:15,700 log 26620 27636 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 16:40:15,963 log 26620 27636 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 16:40:16,442 log 26620 27636 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 18:02:19,460 log 32572 23236 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 18:02:19,722 log 32572 23236 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 18:02:20,204 log 32572 23236 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 18:02:21,122 log 32572 23236 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 18:09:18,567 log 30600 33500 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 18:09:18,839 log 30600 33500 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 18:09:19,327 log 30600 33500 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 18:09:20,240 log 30600 33500 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 18:16:55,528 log 7920 34224 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 18:16:55,781 log 7920 34224 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 18:16:56,267 log 7920 34224 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 18:16:57,173 log 7920 34224 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 18:51:47,089 log 21656 11548 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 18:51:55,473 log 21656 11548 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 18:51:55,570 log 21656 11548 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 18:51:55,577 log 21656 11548 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 18:58:14,774 log 32628 20032 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 18:58:18,844 log 32628 20032 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 18:58:18,946 log 32628 20032 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 18:58:19,460 log 32628 20032 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 18:58:20,344 log 32628 20032 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 18:58:23,100 log 32628 20032 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 18:58:23,214 log 32628 20032 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 18:58:23,217 log 32628 20032 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 18:58:23,318 log 32628 20032 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 18:58:23,408 log 32628 20032 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:02:13,973 log 33264 33208 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:02:18,076 log 33264 33208 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:02:18,177 log 33264 33208 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:02:18,647 log 33264 33208 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:02:19,629 log 33264 33208 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:02:22,326 log 33264 33208 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:02:22,420 log 33264 33208 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:02:22,424 log 33264 33208 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:02:22,605 log 33264 33208 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:05:00,241 log 15208 5420 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:05:04,344 log 15208 5420 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:05:04,449 log 15208 5420 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:05:04,926 log 15208 5420 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:05:05,901 log 15208 5420 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:05:08,590 log 15208 5420 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:05:08,678 log 15208 5420 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:05:08,682 log 15208 5420 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:05:08,864 log 15208 5420 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:07:02,969 log 25480 28788 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:07:07,104 log 25480 28788 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:07:07,208 log 25480 28788 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:07:07,701 log 25480 28788 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:07:08,716 log 25480 28788 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:07:11,480 log 25480 28788 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:07:11,574 log 25480 28788 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:07:11,579 log 25480 28788 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:07:11,767 log 25480 28788 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:08:47,670 log 30228 11476 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:08:51,779 log 30228 11476 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:08:51,885 log 30228 11476 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:08:52,372 log 30228 11476 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:08:53,383 log 30228 11476 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:08:56,111 log 30228 11476 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:08:56,202 log 30228 11476 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:08:56,208 log 30228 11476 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:08:56,393 log 30228 11476 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:10:06,978 log 8948 11960 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:10:11,064 log 8948 11960 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:10:11,168 log 8948 11960 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:10:11,642 log 8948 11960 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:10:12,615 log 8948 11960 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:10:15,311 log 8948 11960 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:10:15,400 log 8948 11960 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:10:15,409 log 8948 11960 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:10:15,594 log 8948 11960 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:11:21,238 log 20436 9860 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:11:25,353 log 20436 9860 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:11:25,459 log 20436 9860 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:11:25,943 log 20436 9860 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:11:26,997 log 20436 9860 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:11:29,760 log 20436 9860 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:11:29,853 log 20436 9860 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:11:29,859 log 20436 9860 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:11:30,046 log 20436 9860 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:14:21,615 log 30444 9280 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:14:25,731 log 30444 9280 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:14:25,835 log 30444 9280 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:14:26,313 log 30444 9280 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:14:27,322 log 30444 9280 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:14:30,033 log 30444 9280 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:14:30,125 log 30444 9280 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:14:30,131 log 30444 9280 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:14:30,313 log 30444 9280 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:16:27,391 log 10968 5696 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:16:31,490 log 10968 5696 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:16:31,598 log 10968 5696 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:16:32,079 log 10968 5696 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:16:33,075 log 10968 5696 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:16:35,812 log 10968 5696 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:16:35,907 log 10968 5696 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:16:35,911 log 10968 5696 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:16:36,093 log 10968 5696 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:19:01,675 log 21452 15088 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:19:05,788 log 21452 15088 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:19:05,895 log 21452 15088 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:19:06,372 log 21452 15088 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:19:07,353 log 21452 15088 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:19:10,084 log 21452 15088 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:19:10,176 log 21452 15088 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:19:10,177 log 21452 15088 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:19:10,367 log 21452 15088 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:21:02,061 log 5988 4572 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:21:06,158 log 5988 4572 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:21:06,264 log 5988 4572 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:21:06,742 log 5988 4572 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:21:07,711 log 5988 4572 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:21:10,421 log 5988 4572 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:21:10,513 log 5988 4572 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:21:10,520 log 5988 4572 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:21:10,704 log 5988 4572 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:25:09,540 log 21724 34452 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:25:09,667 log 21724 34452 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:25:09,796 log 21724 34452 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:25:15,786 log 21724 34452 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:25:15,910 log 21724 34452 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:25:16,110 log 21724 34452 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:25:16,312 log 21724 34452 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:25:16,424 log 21724 34452 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:25:18,517 log 21724 34452 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:25:18,635 log 21724 34452 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:25:18,753 log 21724 34452 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:28:36,938 log 34276 32752 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:28:37,142 log 34276 32752 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:28:45,671 log 34276 32752 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:28:45,769 log 34276 32752 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:28:45,775 log 34276 32752 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:33:24,827 log 28368 24556 Internal Server Error: /api/v1/calculator/calculations/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:33:24,933 log 28368 24556 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:33:25,055 log 28368 24556 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:33:29,170 log 28368 24556 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:33:29,335 log 28368 24556 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:33:29,835 log 28368 24556 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:33:30,786 log 28368 24556 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:33:31,000 log 28368 24556 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:33:31,120 log 28368 24556 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:33:31,309 log 28368 24556 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:33:31,503 log 28368 24556 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:33:31,610 log 28368 24556 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:33:33,615 log 28368 24556 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:33:33,728 log 28368 24556 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:33:33,837 log 28368 24556 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:33:33,950 log 28368 24556 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:40:21,262 log 23468 20868 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:40:21,381 log 23468 20868 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:40:25,534 log 23468 20868 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:40:25,656 log 23468 20868 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:40:26,153 log 23468 20868 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:40:27,119 log 23468 20868 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:40:27,337 log 23468 20868 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:40:27,459 log 23468 20868 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:40:27,654 log 23468 20868 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:40:27,849 log 23468 20868 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:40:27,959 log 23468 20868 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:40:29,975 log 23468 20868 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:40:30,087 log 23468 20868 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:40:30,199 log 23468 20868 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:40:30,358 log 23468 20868 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:51:44,116 log 13188 33012 Internal Server Error: /api/v1/calculator/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:51:44,413 log 13188 33012 Internal Server Error: /api/v1/calculator/compare-products/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
ERROR 2025-03-02 19:51:44,514 log 13188 33012 Internal Server Error: /api/v1/calculator/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:51:44,741 log 13188 33012 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:51:48,879 log 13188 33012 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:51:49,008 log 13188 33012 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:51:49,512 log 13188 33012 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:51:50,491 log 13188 33012 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:51:53,229 log 13188 33012 Internal Server Error: /api/v1/calculator/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:51:53,345 log 13188 33012 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:51:53,461 log 13188 33012 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:53:21,284 log 10632 32376 Internal Server Error: /api/v1/calculator/compare-products/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:53:21,679 log 10632 32376 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:53:21,802 log 10632 32376 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:53:22,112 log 10632 32376 Internal Server Error: /api/v1/calculator/batch-tasks/58135624-53b3-41b2-ba7f-2eb57fec6eac/export/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:53:22,227 log 10632 32376 Internal Server Error: /api/v1/calculator/batch-tasks/352deb72-f348-4af1-aa1b-36972a0fb0e8/progress/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:53:25,990 log 10632 32376 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:53:26,118 log 10632 32376 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:53:26,644 log 10632 32376 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:53:27,616 log 10632 32376 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:53:27,832 log 10632 32376 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:53:27,997 log 10632 32376 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:53:28,193 log 10632 32376 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:53:28,390 log 10632 32376 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:53:28,498 log 10632 32376 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:53:30,512 log 10632 32376 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:53:30,625 log 10632 32376 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 19:53:30,735 log 10632 32376 Internal Server Error: /api/v1/calculator/calculate-single/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\deprecation.py", line 119, in __call__
    response = self.process_response(request, response)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\middleware\common.py", line 113, in process_response
    response.headers['Content-Length'] = str(len(response.content))
                                                 ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 126, in content
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be accessed.
ERROR 2025-03-02 20:07:15,546 log 31768 12896 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 319, in _get_product
    raise ProductNotFoundException(f"产品 {product_id} 不存在")
apps.core.exceptions.ProductNotFoundException: 产品 999999 不存在

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 167, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 252, in calculate_single
    product = self._get_product(data['product_id'])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 325, in _get_product
    raise ProductNotFoundException(str(e))
apps.core.exceptions.ProductNotFoundException: 产品 999999 不存在

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 183, in _get_response
    response = self.process_exception_by_middleware(e, request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 339, in process_exception_by_middleware
    response = middleware_method(request, exception)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\middleware.py", line 331, in process_exception
    if isinstance(exception, DatabaseException):
                             ^^^^^^^^^^^^^^^^^
NameError: name 'DatabaseException' is not defined. Did you mean: 'BaseException'?
ERROR 2025-03-02 20:07:15,705 log 31768 12896 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 371, in _get_zone_price
    raise ZonePriceNotFoundException(f"未找到区域 {zone} 的价格信息")
apps.core.exceptions.ZonePriceNotFoundException: 未找到区域 ZONE1-ZONE1 的价格信息

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 167, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 264, in calculate_single
    zone_price = self._get_zone_price(product.id, weight_range.id, zone)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 377, in _get_zone_price
    raise ZonePriceNotFoundException(str(e))
apps.core.exceptions.ZonePriceNotFoundException: 未找到区域 ZONE1-ZONE1 的价格信息

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 183, in _get_response
    response = self.process_exception_by_middleware(e, request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 339, in process_exception_by_middleware
    response = middleware_method(request, exception)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\middleware.py", line 331, in process_exception
    if isinstance(exception, DatabaseException):
                             ^^^^^^^^^^^^^^^^^
NameError: name 'DatabaseException' is not defined. Did you mean: 'BaseException'?
ERROR 2025-03-02 20:07:19,904 log 31768 12896 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 371, in _get_zone_price
    raise ZonePriceNotFoundException(f"未找到区域 {zone} 的价格信息")
apps.core.exceptions.ZonePriceNotFoundException: 未找到区域 ZONE1-ZONE1 的价格信息

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 167, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 264, in calculate_single
    zone_price = self._get_zone_price(product.id, weight_range.id, zone)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 377, in _get_zone_price
    raise ZonePriceNotFoundException(str(e))
apps.core.exceptions.ZonePriceNotFoundException: 未找到区域 ZONE1-ZONE1 的价格信息

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 183, in _get_response
    response = self.process_exception_by_middleware(e, request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 339, in process_exception_by_middleware
    response = middleware_method(request, exception)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\middleware.py", line 331, in process_exception
    if isinstance(exception, DatabaseException):
                             ^^^^^^^^^^^^^^^^^
NameError: name 'DatabaseException' is not defined. Did you mean: 'BaseException'?
ERROR 2025-03-02 20:07:20,056 log 31768 12896 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 371, in _get_zone_price
    raise ZonePriceNotFoundException(f"未找到区域 {zone} 的价格信息")
apps.core.exceptions.ZonePriceNotFoundException: 未找到区域 ZONE1-ZONE1 的价格信息

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 167, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 264, in calculate_single
    zone_price = self._get_zone_price(product.id, weight_range.id, zone)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 377, in _get_zone_price
    raise ZonePriceNotFoundException(str(e))
apps.core.exceptions.ZonePriceNotFoundException: 未找到区域 ZONE1-ZONE1 的价格信息

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 183, in _get_response
    response = self.process_exception_by_middleware(e, request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 339, in process_exception_by_middleware
    response = middleware_method(request, exception)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\middleware.py", line 331, in process_exception
    if isinstance(exception, DatabaseException):
                             ^^^^^^^^^^^^^^^^^
NameError: name 'DatabaseException' is not defined. Did you mean: 'BaseException'?
ERROR 2025-03-02 20:07:20,574 log 31768 12896 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 371, in _get_zone_price
    raise ZonePriceNotFoundException(f"未找到区域 {zone} 的价格信息")
apps.core.exceptions.ZonePriceNotFoundException: 未找到区域 ZONE1-ZONE1 的价格信息

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 167, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 264, in calculate_single
    zone_price = self._get_zone_price(product.id, weight_range.id, zone)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 377, in _get_zone_price
    raise ZonePriceNotFoundException(str(e))
apps.core.exceptions.ZonePriceNotFoundException: 未找到区域 ZONE1-ZONE1 的价格信息

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 183, in _get_response
    response = self.process_exception_by_middleware(e, request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 339, in process_exception_by_middleware
    response = middleware_method(request, exception)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\middleware.py", line 331, in process_exception
    if isinstance(exception, DatabaseException):
                             ^^^^^^^^^^^^^^^^^
NameError: name 'DatabaseException' is not defined. Did you mean: 'BaseException'?
ERROR 2025-03-02 20:07:21,553 log 31768 12896 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 371, in _get_zone_price
    raise ZonePriceNotFoundException(f"未找到区域 {zone} 的价格信息")
apps.core.exceptions.ZonePriceNotFoundException: 未找到区域 TEST-TEST 的价格信息

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 167, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 264, in calculate_single
    zone_price = self._get_zone_price(product.id, weight_range.id, zone)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 377, in _get_zone_price
    raise ZonePriceNotFoundException(str(e))
apps.core.exceptions.ZonePriceNotFoundException: 未找到区域 TEST-TEST 的价格信息

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 183, in _get_response
    response = self.process_exception_by_middleware(e, request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 339, in process_exception_by_middleware
    response = middleware_method(request, exception)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\middleware.py", line 331, in process_exception
    if isinstance(exception, DatabaseException):
                             ^^^^^^^^^^^^^^^^^
NameError: name 'DatabaseException' is not defined. Did you mean: 'BaseException'?
ERROR 2025-03-02 20:07:21,832 log 31768 12896 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 166, in post
    serializer.is_valid(raise_exception=True)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 501, in to_internal_value
    validated_value = validate_method(validated_value)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\serializers.py", line 72, in validate_weight
    raise InvalidParameterException('重量必须大于0')
apps.core.exceptions.InvalidParameterException: 重量必须大于0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 183, in _get_response
    response = self.process_exception_by_middleware(e, request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 339, in process_exception_by_middleware
    response = middleware_method(request, exception)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\middleware.py", line 329, in process_exception
    return APIResponse.validation_error(errors=exception.detail)
                                               ^^^^^^^^^^^^^^^^
AttributeError: 'InvalidParameterException' object has no attribute 'detail'
ERROR 2025-03-02 20:07:21,987 log 31768 12896 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 319, in _get_product
    raise ProductNotFoundException(f"产品 {product_id} 不存在")
apps.core.exceptions.ProductNotFoundException: 产品 999999 不存在

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 167, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 252, in calculate_single
    product = self._get_product(data['product_id'])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 325, in _get_product
    raise ProductNotFoundException(str(e))
apps.core.exceptions.ProductNotFoundException: 产品 999999 不存在

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 183, in _get_response
    response = self.process_exception_by_middleware(e, request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 339, in process_exception_by_middleware
    response = middleware_method(request, exception)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\middleware.py", line 331, in process_exception
    if isinstance(exception, DatabaseException):
                             ^^^^^^^^^^^^^^^^^
NameError: name 'DatabaseException' is not defined. Did you mean: 'BaseException'?
ERROR 2025-03-02 20:07:22,206 log 31768 12896 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 167, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 258, in calculate_single
    zone = self._get_zone(from_postal, to_postal)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 944, in _get_zone
    from_zone = PostalZoneMapping.objects.get(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1139, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1143, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1198, in _execute_mock_call
    raise effect
django.db.utils.DatabaseError: Database error

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 183, in _get_response
    response = self.process_exception_by_middleware(e, request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 339, in process_exception_by_middleware
    response = middleware_method(request, exception)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\middleware.py", line 331, in process_exception
    if isinstance(exception, DatabaseException):
                             ^^^^^^^^^^^^^^^^^
NameError: name 'DatabaseException' is not defined. Did you mean: 'BaseException'?
ERROR 2025-03-02 20:07:22,456 log 31768 12896 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 944, in _get_zone
    from_zone = PostalZoneMapping.objects.get(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\query.py", line 435, in get
    raise self.model.DoesNotExist(
apps.postal_codes.models.PostalZoneMapping.DoesNotExist: PostalZoneMapping matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 167, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 258, in calculate_single
    zone = self._get_zone(from_postal, to_postal)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 954, in _get_zone
    raise InvalidParameterException("Invalid postal code")
apps.core.exceptions.InvalidParameterException: Invalid postal code

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 183, in _get_response
    response = self.process_exception_by_middleware(e, request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 339, in process_exception_by_middleware
    response = middleware_method(request, exception)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\middleware.py", line 329, in process_exception
    return APIResponse.validation_error(errors=exception.detail)
                                               ^^^^^^^^^^^^^^^^
AttributeError: 'InvalidParameterException' object has no attribute 'detail'
ERROR 2025-03-02 20:07:22,609 log 31768 12896 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 166, in post
    serializer.is_valid(raise_exception=True)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 501, in to_internal_value
    validated_value = validate_method(validated_value)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\serializers.py", line 72, in validate_weight
    raise InvalidParameterException('重量必须大于0')
apps.core.exceptions.InvalidParameterException: 重量必须大于0

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 183, in _get_response
    response = self.process_exception_by_middleware(e, request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 339, in process_exception_by_middleware
    response = middleware_method(request, exception)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\middleware.py", line 329, in process_exception
    return APIResponse.validation_error(errors=exception.detail)
                                               ^^^^^^^^^^^^^^^^
AttributeError: 'InvalidParameterException' object has no attribute 'detail'
ERROR 2025-03-02 20:07:24,718 log 31768 12896 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 371, in _get_zone_price
    raise ZonePriceNotFoundException(f"未找到区域 {zone} 的价格信息")
apps.core.exceptions.ZonePriceNotFoundException: 未找到区域 TEST-TEST 的价格信息

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 167, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 264, in calculate_single
    zone_price = self._get_zone_price(product.id, weight_range.id, zone)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 377, in _get_zone_price
    raise ZonePriceNotFoundException(str(e))
apps.core.exceptions.ZonePriceNotFoundException: 未找到区域 TEST-TEST 的价格信息

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 183, in _get_response
    response = self.process_exception_by_middleware(e, request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 339, in process_exception_by_middleware
    response = middleware_method(request, exception)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\middleware.py", line 331, in process_exception
    if isinstance(exception, DatabaseException):
                             ^^^^^^^^^^^^^^^^^
NameError: name 'DatabaseException' is not defined. Did you mean: 'BaseException'?
ERROR 2025-03-02 20:07:24,864 log 31768 12896 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 371, in _get_zone_price
    raise ZonePriceNotFoundException(f"未找到区域 {zone} 的价格信息")
apps.core.exceptions.ZonePriceNotFoundException: 未找到区域 TEST-TEST 的价格信息

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 167, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 264, in calculate_single
    zone_price = self._get_zone_price(product.id, weight_range.id, zone)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 377, in _get_zone_price
    raise ZonePriceNotFoundException(str(e))
apps.core.exceptions.ZonePriceNotFoundException: 未找到区域 TEST-TEST 的价格信息

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 183, in _get_response
    response = self.process_exception_by_middleware(e, request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 339, in process_exception_by_middleware
    response = middleware_method(request, exception)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\middleware.py", line 331, in process_exception
    if isinstance(exception, DatabaseException):
                             ^^^^^^^^^^^^^^^^^
NameError: name 'DatabaseException' is not defined. Did you mean: 'BaseException'?
ERROR 2025-03-02 20:07:25,007 log 31768 12896 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 319, in _get_product
    raise ProductNotFoundException(f"产品 {product_id} 不存在")
apps.core.exceptions.ProductNotFoundException: 产品 999999 不存在

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 167, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 252, in calculate_single
    product = self._get_product(data['product_id'])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 325, in _get_product
    raise ProductNotFoundException(str(e))
apps.core.exceptions.ProductNotFoundException: 产品 999999 不存在

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 183, in _get_response
    response = self.process_exception_by_middleware(e, request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 339, in process_exception_by_middleware
    response = middleware_method(request, exception)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\middleware.py", line 331, in process_exception
    if isinstance(exception, DatabaseException):
                             ^^^^^^^^^^^^^^^^^
NameError: name 'DatabaseException' is not defined. Did you mean: 'BaseException'?
ERROR 2025-03-02 21:27:12,830 log 23860 7968 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 167, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 258, in calculate_single
    zone = self._get_zone(from_postal, to_postal)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 944, in _get_zone
    from_zone = PostalZoneMapping.objects.get(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1139, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1143, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1198, in _execute_mock_call
    raise effect
django.db.utils.DatabaseError: Database error
ERROR 2025-03-02 21:44:25,295 log 14208 8168 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 167, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 258, in calculate_single
    zone = self._get_zone(from_postal, to_postal)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 944, in _get_zone
    from_zone = PostalZoneMapping.objects.get(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1139, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1143, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1198, in _execute_mock_call
    raise effect
django.db.utils.DatabaseError: Database error
ERROR 2025-03-03 09:04:42,284 log 21008 23992 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 167, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 258, in calculate_single
    zone = self._get_zone(from_postal, to_postal)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 944, in _get_zone
    from_zone = PostalZoneMapping.objects.get(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1139, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1143, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1198, in _execute_mock_call
    raise effect
django.db.utils.DatabaseError: Database error
ERROR 2025-03-03 09:05:20,580 log 9940 20948 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 167, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 258, in calculate_single
    zone = self._get_zone(from_postal, to_postal)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 944, in _get_zone
    from_zone = PostalZoneMapping.objects.get(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1139, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1143, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1198, in _execute_mock_call
    raise effect
django.db.utils.DatabaseError: Database error
ERROR 2025-03-03 09:06:24,266 log 21320 23756 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 167, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 258, in calculate_single
    zone = self._get_zone(from_postal, to_postal)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 944, in _get_zone
    from_zone = PostalZoneMapping.objects.get(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1139, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1143, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1198, in _execute_mock_call
    raise effect
django.db.utils.DatabaseError: Database error
ERROR 2025-03-03 10:28:01,750 log 8408 2804 Internal Server Error: /api/v1/calculator/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 73, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'product_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 182, in post
    result = self.calculation_service.calculate_batch(serializer.validated_data['items'])
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 184, in wrapper
    result = func(self, *args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 1068, in calculate_batch
    task = BatchCalculationTask.objects.create(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\query.py", line 453, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\workspace\workbook\freight\apps\calculator\models.py", line 267, in save
    super().save(*args, **kwargs)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\base.py", line 739, in save
    self.save_base(using=using, force_insert=force_insert,
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\base.py", line 776, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\base.py", line 881, in _save_table
    results = self._do_insert(cls._base_manager, using, fields, returning_fields, raw)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\base.py", line 919, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\query.py", line 1270, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1416, in execute_sql
    cursor.execute(sql, params)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 66, in execute
    return self._execute_with_wrappers(sql, params, many=False, executor=self._execute)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 75, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\utils.py", line 90, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 73, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'product_id' cannot be null")
ERROR 2025-03-03 11:01:11,949 log 15144 13352 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 167, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 352, in calculate_single
    zone = self._get_zone(from_postal, to_postal)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 1188, in _get_zone
    from_zone = PostalZoneMapping.objects.get(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1139, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1143, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1198, in _execute_mock_call
    raise effect
django.db.utils.DatabaseError: Database error
ERROR 2025-03-03 11:12:02,181 log 11692 5564 Internal Server Error: /api/v1/calculator/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 73, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'product_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 182, in post
    result = self.calculation_service.calculate_batch(serializer.validated_data['items'])
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 184, in wrapper
    result = func(self, *args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 1068, in calculate_batch
    task = BatchCalculationTask.objects.create(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\query.py", line 453, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\workspace\workbook\freight\apps\calculator\models.py", line 267, in save
    super().save(*args, **kwargs)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\base.py", line 739, in save
    self.save_base(using=using, force_insert=force_insert,
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\base.py", line 776, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\base.py", line 881, in _save_table
    results = self._do_insert(cls._base_manager, using, fields, returning_fields, raw)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\base.py", line 919, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\query.py", line 1270, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1416, in execute_sql
    cursor.execute(sql, params)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 66, in execute
    return self._execute_with_wrappers(sql, params, many=False, executor=self._execute)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 75, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\utils.py", line 90, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 73, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'product_id' cannot be null")
ERROR 2025-03-03 11:18:22,140 log 7756 13360 Internal Server Error: /api/v1/calculator/calculate-batch/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 73, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.IntegrityError: (1048, "Column 'product_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 182, in post
    result = self.calculation_service.calculate_batch(serializer.validated_data['items'])
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 184, in wrapper
    result = func(self, *args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 1068, in calculate_batch
    task = BatchCalculationTask.objects.create(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\query.py", line 453, in create
    obj.save(force_insert=True, using=self.db)
  File "D:\workspace\workbook\freight\apps\calculator\models.py", line 267, in save
    super().save(*args, **kwargs)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\base.py", line 739, in save
    self.save_base(using=using, force_insert=force_insert,
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\base.py", line 776, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\base.py", line 881, in _save_table
    results = self._do_insert(cls._base_manager, using, fields, returning_fields, raw)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\base.py", line 919, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\query.py", line 1270, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1416, in execute_sql
    cursor.execute(sql, params)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 66, in execute
    return self._execute_with_wrappers(sql, params, many=False, executor=self._execute)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 75, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\utils.py", line 90, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 73, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.IntegrityError: (1048, "Column 'product_id' cannot be null")
ERROR 2025-03-03 11:28:27,210 log 7260 2656 Internal Server Error: /api/v1/calculator/compare-products/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 197, in post
    result = self.calculation_service.compare_products(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CalculationService' object has no attribute 'compare_products'
ERROR 2025-03-03 11:30:14,888 log 10180 15288 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 167, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 352, in calculate_single
    zone = self._get_zone(from_postal, to_postal)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1139, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1143, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1198, in _execute_mock_call
    raise effect
django.db.utils.DatabaseError: 模拟数据库错误
ERROR 2025-03-03 11:33:39,494 log 3076 9680 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 167, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 352, in calculate_single
    zone = self._get_zone(from_postal, to_postal)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1139, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1143, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1198, in _execute_mock_call
    raise effect
django.db.utils.DatabaseError: 模拟数据库错误
ERROR 2025-03-03 11:34:22,232 log 12024 9528 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 228, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 168, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 352, in calculate_single
    zone = self._get_zone(from_postal, to_postal)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1139, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1143, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1198, in _execute_mock_call
    raise effect
django.db.utils.DatabaseError: 模拟数据库错误

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 262, in wrapper
    response_data, status_code = error_response(
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 118, in __iter__
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be iterated over.
ERROR 2025-03-03 11:34:56,661 log 21124 4652 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 228, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 168, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 352, in calculate_single
    zone = self._get_zone(from_postal, to_postal)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1139, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1143, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1198, in _execute_mock_call
    raise effect
django.db.utils.DatabaseError: 模拟数据库错误

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 262, in wrapper
    response_data, status_code = error_response(
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 118, in __iter__
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be iterated over.
ERROR 2025-03-03 11:35:16,696 log 20936 21736 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 228, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 168, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 352, in calculate_single
    zone = self._get_zone(from_postal, to_postal)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1139, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1143, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1198, in _execute_mock_call
    raise effect
django.db.utils.DatabaseError: 模拟数据库错误

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 262, in wrapper
    response_data, status_code = error_response(
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 118, in __iter__
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be iterated over.
ERROR 2025-03-03 11:36:35,915 log 10320 10112 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 228, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 168, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 346, in calculate_single
    product = self._get_product(data['product_id'])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1139, in __call__
    return self._mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1143, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\common_software\python\Lib\unittest\mock.py", line 1198, in _execute_mock_call
    raise effect
apps.core.exceptions.ProductNotFoundException: {'message': ErrorDetail(string='Product not found', code='error'), 'code': ErrorDetail(string='PRODUCT_NOT_FOUND', code='error')}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 245, in wrapper
    response_data, status_code = error_response(
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 118, in __iter__
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be iterated over.
ERROR 2025-03-03 11:36:38,156 log 10320 10112 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 228, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 167, in post
    serializer.is_valid(raise_exception=True)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 501, in to_internal_value
    validated_value = validate_method(validated_value)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\serializers.py", line 72, in validate_weight
    raise InvalidParameterException('重量必须大于0')
apps.core.exceptions.InvalidParameterException: {'message': ErrorDetail(string='重量必须大于0', code='error'), 'code': ErrorDetail(string='INVALID_PARAMETER', code='error')}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 237, in wrapper
    response_data, status_code = error_response(
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 118, in __iter__
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be iterated over.
ERROR 2025-03-03 11:36:39,207 log 10320 10112 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 1188, in _get_zone
    from_zone = PostalZoneMapping.objects.get(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\query.py", line 435, in get
    raise self.model.DoesNotExist(
apps.postal_codes.models.PostalZoneMapping.DoesNotExist: PostalZoneMapping matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 228, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 168, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 352, in calculate_single
    zone = self._get_zone(from_postal, to_postal)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 1198, in _get_zone
    raise InvalidParameterException("Invalid postal code")
apps.core.exceptions.InvalidParameterException: {'message': ErrorDetail(string='Invalid postal code', code='error'), 'code': ErrorDetail(string='INVALID_PARAMETER', code='error')}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 237, in wrapper
    response_data, status_code = error_response(
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 118, in __iter__
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be iterated over.
ERROR 2025-03-03 11:36:39,965 log 10320 10112 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 228, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 167, in post
    serializer.is_valid(raise_exception=True)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 501, in to_internal_value
    validated_value = validate_method(validated_value)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\serializers.py", line 72, in validate_weight
    raise InvalidParameterException('重量必须大于0')
apps.core.exceptions.InvalidParameterException: {'message': ErrorDetail(string='重量必须大于0', code='error'), 'code': ErrorDetail(string='INVALID_PARAMETER', code='error')}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 237, in wrapper
    response_data, status_code = error_response(
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 118, in __iter__
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be iterated over.
ERROR 2025-03-03 11:38:30,524 log 7960 4220 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 228, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 167, in post
    serializer.is_valid(raise_exception=True)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 501, in to_internal_value
    validated_value = validate_method(validated_value)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\serializers.py", line 72, in validate_weight
    raise InvalidParameterException('重量必须大于0')
apps.core.exceptions.InvalidParameterException: {'message': ErrorDetail(string='重量必须大于0', code='error'), 'code': ErrorDetail(string='INVALID_PARAMETER', code='error')}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 237, in wrapper
    response_data, status_code = error_response(
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 118, in __iter__
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be iterated over.
ERROR 2025-03-03 11:39:50,874 log 8688 3000 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 1188, in _get_zone
    from_zone = PostalZoneMapping.objects.get(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\query.py", line 435, in get
    raise self.model.DoesNotExist(
apps.postal_codes.models.PostalZoneMapping.DoesNotExist: PostalZoneMapping matching query does not exist.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 228, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 168, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 352, in calculate_single
    zone = self._get_zone(from_postal, to_postal)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 1198, in _get_zone
    raise InvalidParameterException("Invalid postal code")
apps.core.exceptions.InvalidParameterException: {'message': ErrorDetail(string='Invalid postal code', code='error'), 'code': ErrorDetail(string='INVALID_PARAMETER', code='error')}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 237, in wrapper
    response_data, status_code = error_response(
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 118, in __iter__
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be iterated over.
ERROR 2025-03-03 11:39:51,921 log 8688 3000 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 413, in _get_product
    raise ProductNotFoundException(f"产品 {product_id} 不存在")
apps.core.exceptions.ProductNotFoundException: {'message': ErrorDetail(string='产品 99999 不存在', code='error'), 'code': ErrorDetail(string='PRODUCT_NOT_FOUND', code='error')}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 228, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 168, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 346, in calculate_single
    product = self._get_product(data['product_id'])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 419, in _get_product
    raise ProductNotFoundException(str(e))
apps.core.exceptions.ProductNotFoundException: {'message': ErrorDetail(string="{'message': ErrorDetail(string='产品 99999 不存在', code='error'), 'code': ErrorDetail(string='PRODUCT_NOT_FOUND', code='error')}", code='error'), 'code': ErrorDetail(string='PRODUCT_NOT_FOUND', code='error')}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 245, in wrapper
    response_data, status_code = error_response(
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 118, in __iter__
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be iterated over.
ERROR 2025-03-03 11:46:28,140 log 10808 4724 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 228, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 167, in post
    serializer.is_valid(raise_exception=True)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 501, in to_internal_value
    validated_value = validate_method(validated_value)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\serializers.py", line 76, in validate_weight
    raise InvalidParameterException(f'重量不能超过 {settings.MAX_WEIGHT_LIMIT}')
apps.core.exceptions.InvalidParameterException: {'message': ErrorDetail(string='重量不能超过 1000.00', code='error'), 'code': ErrorDetail(string='INVALID_PARAMETER', code='error')}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 237, in wrapper
    response_data, status_code = error_response(
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 118, in __iter__
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be iterated over.
ERROR 2025-03-03 11:46:29,452 log 10808 4724 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 413, in _get_product
    raise ProductNotFoundException(f"产品 {product_id} 不存在")
apps.core.exceptions.ProductNotFoundException: {'message': ErrorDetail(string='产品 999999 不存在', code='error'), 'code': ErrorDetail(string='PRODUCT_NOT_FOUND', code='error')}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 228, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 168, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 346, in calculate_single
    product = self._get_product(data['product_id'])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 419, in _get_product
    raise ProductNotFoundException(str(e))
apps.core.exceptions.ProductNotFoundException: {'message': ErrorDetail(string="{'message': ErrorDetail(string='产品 999999 不存在', code='error'), 'code': ErrorDetail(string='PRODUCT_NOT_FOUND', code='error')}", code='error'), 'code': ErrorDetail(string='PRODUCT_NOT_FOUND', code='error')}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 245, in wrapper
    response_data, status_code = error_response(
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 118, in __iter__
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be iterated over.
ERROR 2025-03-03 11:46:30,861 log 10808 4724 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 439, in _get_weight_range
    raise WeightRangeNotFoundException(f"未找到重量 {weight} 对应的重量范围")
apps.core.exceptions.WeightRangeNotFoundException: {'message': ErrorDetail(string='未找到重量 150.00 对应的重量范围', code='error'), 'code': ErrorDetail(string='WEIGHT_RANGE_NOT_FOUND', code='error')}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 228, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 168, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 355, in calculate_single
    weight_range = self._get_weight_range(product, weight)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 445, in _get_weight_range
    raise WeightRangeNotFoundException(str(e))
apps.core.exceptions.WeightRangeNotFoundException: {'message': ErrorDetail(string="{'message': ErrorDetail(string='未找到重量 150.00 对应的重量范围', code='error'), 'code': ErrorDetail(string='WEIGHT_RANGE_NOT_FOUND', code='error')}", code='error'), 'code': ErrorDetail(string='WEIGHT_RANGE_NOT_FOUND', code='error')}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 245, in wrapper
    response_data, status_code = error_response(
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 118, in __iter__
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be iterated over.
ERROR 2025-03-03 11:46:41,377 log 10808 4724 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 228, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 167, in post
    serializer.is_valid(raise_exception=True)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 501, in to_internal_value
    validated_value = validate_method(validated_value)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\serializers.py", line 72, in validate_weight
    raise InvalidParameterException('重量必须大于0')
apps.core.exceptions.InvalidParameterException: {'message': ErrorDetail(string='重量必须大于0', code='error'), 'code': ErrorDetail(string='INVALID_PARAMETER', code='error')}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 237, in wrapper
    response_data, status_code = error_response(
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 118, in __iter__
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be iterated over.
ERROR 2025-03-03 11:46:56,332 log 10808 4724 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 413, in _get_product
    raise ProductNotFoundException(f"产品 {product_id} 不存在")
apps.core.exceptions.ProductNotFoundException: {'message': ErrorDetail(string='产品 999999 不存在', code='error'), 'code': ErrorDetail(string='PRODUCT_NOT_FOUND', code='error')}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 228, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 168, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 346, in calculate_single
    product = self._get_product(data['product_id'])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 419, in _get_product
    raise ProductNotFoundException(str(e))
apps.core.exceptions.ProductNotFoundException: {'message': ErrorDetail(string="{'message': ErrorDetail(string='产品 999999 不存在', code='error'), 'code': ErrorDetail(string='PRODUCT_NOT_FOUND', code='error')}", code='error'), 'code': ErrorDetail(string='PRODUCT_NOT_FOUND', code='error')}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 245, in wrapper
    response_data, status_code = error_response(
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 118, in __iter__
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be iterated over.
ERROR 2025-03-03 11:48:14,289 log 7344 22244 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 228, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 167, in post
    serializer.is_valid(raise_exception=True)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 501, in to_internal_value
    validated_value = validate_method(validated_value)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\serializers.py", line 76, in validate_weight
    raise InvalidParameterException(f'重量不能超过 {settings.MAX_WEIGHT_LIMIT}')
apps.core.exceptions.InvalidParameterException: {'message': ErrorDetail(string='重量不能超过 1000.00', code='error'), 'code': ErrorDetail(string='INVALID_PARAMETER', code='error')}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 239, in wrapper
    response_data, status_code = error_response(
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 118, in __iter__
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be iterated over.
ERROR 2025-03-03 11:48:15,602 log 7344 22244 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 413, in _get_product
    raise ProductNotFoundException(f"产品 {product_id} 不存在")
apps.core.exceptions.ProductNotFoundException: {'message': ErrorDetail(string='产品 999999 不存在', code='error'), 'code': ErrorDetail(string='PRODUCT_NOT_FOUND', code='error')}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 228, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 168, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 346, in calculate_single
    product = self._get_product(data['product_id'])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 419, in _get_product
    raise ProductNotFoundException(str(e))
apps.core.exceptions.ProductNotFoundException: {'message': ErrorDetail(string="{'message': ErrorDetail(string='产品 999999 不存在', code='error'), 'code': ErrorDetail(string='PRODUCT_NOT_FOUND', code='error')}", code='error'), 'code': ErrorDetail(string='PRODUCT_NOT_FOUND', code='error')}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 249, in wrapper
    response_data, status_code = error_response(
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 118, in __iter__
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be iterated over.
ERROR 2025-03-03 11:48:17,041 log 7344 22244 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 439, in _get_weight_range
    raise WeightRangeNotFoundException(f"未找到重量 {weight} 对应的重量范围")
apps.core.exceptions.WeightRangeNotFoundException: {'message': ErrorDetail(string='未找到重量 150.00 对应的重量范围', code='error'), 'code': ErrorDetail(string='WEIGHT_RANGE_NOT_FOUND', code='error')}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 228, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 168, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 355, in calculate_single
    weight_range = self._get_weight_range(product, weight)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 445, in _get_weight_range
    raise WeightRangeNotFoundException(str(e))
apps.core.exceptions.WeightRangeNotFoundException: {'message': ErrorDetail(string="{'message': ErrorDetail(string='未找到重量 150.00 对应的重量范围', code='error'), 'code': ErrorDetail(string='WEIGHT_RANGE_NOT_FOUND', code='error')}", code='error'), 'code': ErrorDetail(string='WEIGHT_RANGE_NOT_FOUND', code='error')}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 249, in wrapper
    response_data, status_code = error_response(
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 118, in __iter__
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be iterated over.
ERROR 2025-03-03 11:48:17,867 log 7344 22244 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 228, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 167, in post
    serializer.is_valid(raise_exception=True)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\serializers.py", line 501, in to_internal_value
    validated_value = validate_method(validated_value)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\serializers.py", line 72, in validate_weight
    raise InvalidParameterException('重量必须大于0')
apps.core.exceptions.InvalidParameterException: {'message': ErrorDetail(string='重量必须大于0', code='error'), 'code': ErrorDetail(string='INVALID_PARAMETER', code='error')}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 239, in wrapper
    response_data, status_code = error_response(
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 118, in __iter__
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be iterated over.
ERROR 2025-03-03 11:48:18,986 log 7344 22244 Internal Server Error: /api/v1/calculator/calculate/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 413, in _get_product
    raise ProductNotFoundException(f"产品 {product_id} 不存在")
apps.core.exceptions.ProductNotFoundException: {'message': ErrorDetail(string='产品 999999 不存在', code='error'), 'code': ErrorDetail(string='PRODUCT_NOT_FOUND', code='error')}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 228, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\views.py", line 168, in post
    result = self.calculation_service.calculate_single(serializer.validated_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 346, in calculate_single
    product = self._get_product(data['product_id'])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\calculator\services.py", line 419, in _get_product
    raise ProductNotFoundException(str(e))
apps.core.exceptions.ProductNotFoundException: {'message': ErrorDetail(string="{'message': ErrorDetail(string='产品 999999 不存在', code='error'), 'code': ErrorDetail(string='PRODUCT_NOT_FOUND', code='error')}", code='error'), 'code': ErrorDetail(string='PRODUCT_NOT_FOUND', code='error')}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\generic\base.py", line 70, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\core\exceptions.py", line 249, in wrapper
    response_data, status_code = error_response(
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 118, in __iter__
    raise ContentNotRenderedError(
django.template.response.ContentNotRenderedError: The response content must be rendered before it can be iterated over.
ERROR 2025-03-05 09:35:00,814 log 27276 25936 Internal Server Error: /api/v1/users/users/login/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 73, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.OperationalError: (2013, 'Lost connection to server during query')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\decorators.py", line 43, in _wrapper
    return bound_method(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\users\views.py", line 48, in login
    user = authenticate(username=username, password=password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\debug.py", line 42, in sensitive_variables_wrapper
    return func(*func_args, **func_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\contrib\auth\__init__.py", line 76, in authenticate
    user = backend.authenticate(request, **credentials)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\contrib\auth\backends.py", line 42, in authenticate
    user = UserModel._default_manager.get_by_natural_key(username)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\contrib\auth\base_user.py", line 45, in get_by_natural_key
    return self.get(**{self.model.USERNAME_FIELD: username})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\query.py", line 431, in get
    num = len(clone)
          ^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\query.py", line 262, in __len__
    self._fetch_all()
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\query.py", line 1324, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\query.py", line 51, in __iter__
    results = compiler.execute_sql(chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1175, in execute_sql
    cursor.execute(sql, params)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 98, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 66, in execute
    return self._execute_with_wrappers(sql, params, many=False, executor=self._execute)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 75, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\utils.py", line 90, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 73, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.OperationalError: (2013, 'Lost connection to server during query')
ERROR 2025-03-05 11:45:00,724 log 28268 30808 Internal Server Error: /admin/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 204, in _get_response
    response = response.render()
               ^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 105, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\response.py", line 83, in rendered_content
    return template.render(context, self._request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\backends\django.py", line 61, in render
    return self.template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\base.py", line 170, in render
    return self._render(context)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\base.py", line 162, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\base.py", line 938, in render
    bit = node.render_annotated(context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\base.py", line 905, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\loader_tags.py", line 150, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\base.py", line 162, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\base.py", line 938, in render
    bit = node.render_annotated(context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\base.py", line 905, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\loader_tags.py", line 150, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\base.py", line 162, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\base.py", line 938, in render
    bit = node.render_annotated(context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\base.py", line 905, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\loader_tags.py", line 150, in render
    return compiled_parent._render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\base.py", line 162, in _render
    return self.nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\base.py", line 938, in render
    bit = node.render_annotated(context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\base.py", line 905, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\loader_tags.py", line 62, in render
    result = block.nodelist.render(context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\base.py", line 938, in render
    bit = node.render_annotated(context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\base.py", line 905, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\defaulttags.py", line 315, in render
    return nodelist.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\base.py", line 938, in render
    bit = node.render_annotated(context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\base.py", line 905, in render_annotated
    return self.render(context)
           ^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\template\defaulttags.py", line 449, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\urls\base.py", line 86, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\urls\resolvers.py", line 698, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'rosetta-file-list' not found. 'rosetta-file-list' is not a valid view function or pattern name.
ERROR 2025-03-05 11:50:06,458 log 25924 32716 Internal Server Error: /api/v1/users/users/login/ D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\log.py 224
Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 73, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
MySQLdb.OperationalError: (2013, 'Lost connection to server during query')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\exception.py", line 47, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\core\handlers\base.py", line 181, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\utils\decorators.py", line 43, in _wrapper
    return bound_method(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\apps\users\views.py", line 143, in login
    user = authenticate(username=username, password=password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\views\decorators\debug.py", line 42, in sensitive_variables_wrapper
    return func(*func_args, **func_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\contrib\auth\__init__.py", line 76, in authenticate
    user = backend.authenticate(request, **credentials)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\contrib\auth\backends.py", line 42, in authenticate
    user = UserModel._default_manager.get_by_natural_key(username)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\contrib\auth\base_user.py", line 45, in get_by_natural_key
    return self.get(**{self.model.USERNAME_FIELD: username})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\query.py", line 431, in get
    num = len(clone)
          ^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\query.py", line 262, in __len__
    self._fetch_all()
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\query.py", line 1324, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\query.py", line 51, in __iter__
    results = compiler.execute_sql(chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1175, in execute_sql
    cursor.execute(sql, params)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 98, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 66, in execute
    return self._execute_with_wrappers(sql, params, many=False, executor=self._execute)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 75, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\utils.py", line 90, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\django\db\backends\mysql\base.py", line 73, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\cursors.py", line 179, in execute
    res = self._query(mogrified_query)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\cursors.py", line 330, in _query
    db.query(q)
  File "D:\workspace\workbook\freight\venv\Lib\site-packages\MySQLdb\connections.py", line 280, in query
    _mysql.connection.query(self, query)
django.db.utils.OperationalError: (2013, 'Lost connection to server during query')
